(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{16:function(e,t,a){e.exports=a.p+"static/media/loadingwall.4a35f914.gif"},17:function(e,t,a){e.exports=a.p+"static/media/loadinggif.8f6d93bc.gif"},37:function(e,t,a){e.exports=a(74)},58:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(32),s=a.n(r),c=a(1),i=a(2),o=a(3),m=a(5),u=a(4),p=a(33),h=a.n(p).a.create({baseURL:"https://instagreeno.herokuapp.com",withCredentials:!0});function d(e){if(e.response.data)throw console.log(e.response&&e.response.data),e;throw e}var f=function(e){return h.post("/api/auth/signup",e).then((function(e){return e.data})).catch(d)},g=function(e){return h.post("/api/auth/signin",e).then((function(e){return e.data})).catch(d)},E=function(){return h.get("/api/auth/isLoggedIn").then((function(e){return e.data})).catch(d)},v=function(){return h.get("/api/auth/logout").then((function(e){return e.data})).catch(d)},b=function(){return h.get("/api/user").then((function(e){return e.data})).catch(d)},N=function(){return h.get("/api/plants").then((function(e){return e.data})).catch(d)},y=function(){return h.get("/api/plants/userPlants").then((function(e){return e.data})).catch(d)},w=function(e){return h.post("/api/plants",e).then((function(e){return e.data})).catch(d)},C=function(e){return h.delete("/api/plants/"+e).then((function(){console.log("successfully deleted")})).catch(d)},S=function(e,t){return h.patch("/api/plants/"+e,t).then((function(e){return e.data})).catch(d)},_=function(){return h.get("/api/wall").then((function(e){return e.data})).catch(d)},O=function(e){return h.post("/api/wall",e).then((function(e){return e.data})).catch(d)},j=function(e,t){return h.patch("/api/wall/"+e,t).then((function(e){return e.data})).catch(d)},x=function(e){return h.delete("/api/wall/"+e).then((function(){console.log("successfully deleted")})).catch(d)},F=function(e,t){return h.post("/api/wall/".concat(e,"/comments"),t).then((function(e){return e.data})).catch(d)},k=function(e){return h.delete("/api/comment/"+e).then((function(){console.log("successfully deleted")})).catch(d)},L=function(e){return h.get("/api/user/".concat(e)).then((function(e){return e.data})).catch(d)},I=function(){return h.get("/api/wall/profileposts").then((function(e){return e.data})).catch(d)},P=function(e){return h.get("/api/wall/"+e).then((function(e){return e.data})).catch(d)},D=l.a.createContext(),R=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={user:null,isLoggedIn:!1,isLoading:!0},e.setUser=function(t){e.setState({user:t,isLoggedIn:!0})},e.removeUser=function(){e.setState({user:null,isLoggedIn:!1})},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;E().then((function(t){e.setState({user:t,isLoggedIn:!0,isLoading:!1})})).catch((function(t){e.setState({user:null,isLoggedIn:!1,isLoading:!1})}))}},{key:"render",value:function(){var e={user:this.state.user,setUser:this.setUser,removeUser:this.removeUser,isLoggedIn:this.state.isLoggedIn,isLoading:this.state.isLoading};return l.a.createElement(D.Provider,{value:e},this.props.children)}}]),a}(n.Component),A=a(6),M=function(e){return function(t){return l.a.createElement(D.Consumer,null,(function(a){return l.a.createElement(e,Object.assign({},t,{context:a}))}))}},V=(a(58),M((function(e){var t=e.context;return l.a.createElement("nav",{className:"NavMain"},l.a.createElement(c.c,{exact:!0,to:"/"},l.a.createElement("h3",{className:"logoApp"},"InstaGreen")),l.a.createElement("ul",{className:"nav-list"},t.isLoggedIn&&l.a.createElement(l.a.Fragment,null,l.a.createElement("li",null,l.a.createElement(c.c,{to:"/myplants"},"My Plants")),l.a.createElement("li",null,l.a.createElement(c.c,{to:"/wall"},"Wall")),l.a.createElement("li",null,l.a.createElement(c.c,{to:"/users"},"Users")),l.a.createElement("li",null,l.a.createElement(c.c,{to:"/map"},"Map")),l.a.createElement("li",null,l.a.createElement(c.c,{to:"/profile"},t.user&&t.user.firstName)),l.a.createElement("li",null,l.a.createElement("p",{onClick:function(){v().then((function(){t.removeUser()})).catch((function(e){console.log(e)}))}},"Logout"))),!t.isLoggedIn&&l.a.createElement(l.a.Fragment,null,l.a.createElement("li",null,l.a.createElement(c.c,{to:"/signup"},"Create account")))))}))),B=a(11),U=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={email:"",password:""},e.handleChange=function(t){var a=t.target.name,n=t.target.value;e.setState(Object(B.a)({},a,n))},e.handleSubmit=function(t){t.preventDefault(),g(e.state).then((function(t){e.context.setUser(t),e.props.history.push("/wall")})).catch((function(e){console.log(e)}))},e}return Object(o.a)(a,[{key:"render",value:function(){return this.context.user?l.a.createElement(A.a,{to:"/"}):l.a.createElement("div",{className:"signinParent"},l.a.createElement("form",{onChange:this.handleChange,onSubmit:this.handleSubmit,className:"signinform"},l.a.createElement("label",{className:"signinform_label",htmlFor:"email"},"email"),l.a.createElement("input",{type:"email",id:"email",name:"email",className:"signinform_input"}),l.a.createElement("label",{className:"signinform_label",htmlFor:"password"},"password"),l.a.createElement("input",{type:"password",id:"password",name:"password",className:"signinform_input"}),l.a.createElement("button",{className:"signinform_button"},"Log In")))}}]),a}(n.Component);U.contextType=D;var K=Object(A.g)(U),T=function(e){return l.a.createElement("div",{className:"signincontainer"},l.a.createElement("div",{className:"signin"},l.a.createElement("div",{className:"signin_left"},l.a.createElement("h1",{className:"signin_left_title"}," InstaGreen"),l.a.createElement("h2",{className:"signin_left_subtitle"},"Your plant care starts here..."),l.a.createElement("section",{className:"homeinfos"},l.a.createElement("article",{className:"homecontainer"},l.a.createElement("h3",null," Share "),l.a.createElement("p",{className:"containertext"},"Add your plants and share them with your friends !")),l.a.createElement("article",{className:"homecontainer"},l.a.createElement("h3",null," Care "),l.a.createElement("p",{className:"containertext"},"Know how to treat your plants and get helped by the community")),l.a.createElement("article",{className:"homecontainer"},l.a.createElement("h3",null," Exchange "),l.a.createElement("p",{className:"containertext"},"Exchange your plants or offer cuttings to anyone !")))),l.a.createElement("div",{className:"signin_right"},l.a.createElement(K,null),l.a.createElement("p",{className:"signin_right_text"}," No account yet ?",l.a.createElement(c.c,{to:"/signup"},"Sign up here !")))))},W=a(12);function G(e,t,a){if(!t||"object"!==typeof t||t instanceof Date||t instanceof File){var n=null==t?"":t;e.append(a,n)}else Object.keys(t).forEach((function(n){G(e,t[n],a?"".concat(a,"[").concat(n,"]"):n)}))}var H=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={email:"",image:null,password:"",firstName:"",lastName:""},e.handleChange=function(t){var a="file"===t.target.type?t.target.files[0]:t.target.value,n=t.target.name;e.setState(Object(B.a)({},n,a))},e.handleSubmit=function(t){t.preventDefault();var a=new FormData,n=e.state;n.httpResponse;G(a,Object(W.a)(n,["httpResponse"])),f(a).then((function(t){e.context.setUser(t)})).catch((function(e){console.log(e)}))},e}return Object(o.a)(a,[{key:"render",value:function(){return this.context.user?l.a.createElement(A.a,{to:"/"}):l.a.createElement("div",{class:"formcontainersignup"},l.a.createElement("form",{onSubmit:this.handleSubmit,className:"signupform"},l.a.createElement("label",{htmlFor:"firstName"},"First Name"),l.a.createElement("input",{className:"signupinput",onChange:this.handleChange,value:this.state.firstName,type:"text",id:"firstName",name:"firstName"}),l.a.createElement("label",{htmlFor:"lastName"},"Last Name"),l.a.createElement("input",{className:"signupinput",onChange:this.handleChange,value:this.state.lastName,type:"text",id:"lastName",name:"lastName"}),l.a.createElement("label",{htmlFor:"email"},"Email"),l.a.createElement("input",{className:"signupinput",onChange:this.handleChange,value:this.state.email,type:"email",id:"email",name:"email"}),l.a.createElement("label",{htmlFor:"password"},"Password"),l.a.createElement("input",{className:"signupinput",onChange:this.handleChange,value:this.state.password,type:"password",id:"password",name:"password"}),l.a.createElement("div",null,l.a.createElement("input",{type:"file",name:"profileImg",onChange:this.handleChange,value:this.props.image})),l.a.createElement("button",null," Register ")))}}]),a}(n.Component);H.contextType=D;var J=Object(A.g)(H),z=function(e){return l.a.createElement(J,null)},Y=a(36),q=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={name:"",description:"",image:"https://cdn1.iconfinder.com/data/icons/gardening-filled-line/614/1935_-_Growing_Plant-512.png",enlightment:"",watering:"",wateringinterval:"",growingperiod:"",isWatered:!0,waterDate:"",httpResponse:null,error:null},e.handleChange=function(t){var a=t.target.name,n="file"===t.target.type?t.target.files[0]:t.target.value;e.setState(Object(B.a)({},a,n))},e.handleSubmit=function(t){t.preventDefault();var a=new FormData,n=e.state;n.httpResponse;G(a,Object(W.a)(n,["httpResponse"])),w(a).then((function(t){e.props.addItem(t),e.setState({name:"",description:"",enlightment:"",watering:"",wateringinterval:0,growingperiod:"",image:null,httpResponse:{status:"success",message:"Item successfully added."}})})).catch((function(t){console.log(t),e.setState({httpResponse:{status:"failure",message:"An error occured, try again later."}}),e.timeoutId=setTimeout((function(){e.setState({httpResponse:null})}),1e3)}))},e}return Object(o.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"PlantFormContainer"},l.a.createElement("form",{className:"PlantForm",onSubmit:this.handleSubmit},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"labelplant",htmlFor:"name"},"Name"),l.a.createElement("input",{id:"name",name:"name",className:"inputplant",type:"text",onChange:this.handleChange,value:this.state.name})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"labelplant",htmlFor:"enlightment"},"Enlightment"),l.a.createElement("select",{className:"selectplant",name:"enlightment",onChange:this.handleChange,value:this.state.enlightment},l.a.createElement("option",{value:""},"Choose an option"),l.a.createElement("option",{value:"Direct sun"},"Direct sun"),l.a.createElement("option",{value:"Bright light"},"Bright light"),l.a.createElement("option",{value:"Filtered light"},"Filtered light"),l.a.createElement("option",{value:"Shade"},"Shade"))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"labelplant",htmlFor:"watering"},"Watering level"),l.a.createElement("select",{className:"selectplant",name:"watering",onChange:this.handleChange,value:this.state.watering},l.a.createElement("option",{value:""},"Choose an option"),l.a.createElement("option",{value:"Heavy"},"Heavy"),l.a.createElement("option",{value:"Medium"},"Medium"),l.a.createElement("option",{value:"Low"},"Low"))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"labelplant",htmlFor:"wateringinterval"},"Water interval"),l.a.createElement("input",{className:"inputplant",id:"wateringinterval",name:"wateringinterval",type:"number",onChange:this.handleChange,value:this.state.wateringinterval})),l.a.createElement("div",null,l.a.createElement("input",{id:"file",className:"inputfile",type:"file",name:"image",onChange:this.handleChange,value:this.props.image}),l.a.createElement("label",{htmlFor:"file"},"Choose a file")),l.a.createElement("button",{className:"btn-submit-plant"},"Add Plant")))}}]),a}(n.Component),Q=Object(A.g)(q),X=a(35),Z=a.n(X),$=M(function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={plants:[],date:"",showForm:!1},e.showForm=function(){!1===e.state.showForm?e.setState({showForm:!0}):e.setState({showForm:!1})},e.addItem=function(t){e.setState({plants:[].concat(Object(Y.a)(e.state.plants),[t]),showForm:!1})},e.deleteItem=function(t){C(t).then((function(){e.setState({plants:e.state.plants.filter((function(e){return e._id!==t}))})}))},e.waterDate=function(t){var a=Z()();S(t,{waterDate:a}).then((function(t){N().then((function(t){console.log(t);var a=t.filter((function(t){return t.id_user===e.props.context.user._id}));e.setState({plants:a})})).catch((function(e){console.log(e)}))}))},e}return Object(o.a)(a,[{key:"renderForm",value:function(){return l.a.createElement(Q,{addItem:this.addItem})}},{key:"componentDidMount",value:function(){var e=this;y().then((function(t){e.setState({plants:t})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state.showForm;return l.a.createElement("div",{className:"myplantspage"}," ",l.a.createElement("h1",{className:"myplantstitle"},"My plants"),l.a.createElement("button",{className:"addplantbtn",onClick:function(){return e.showForm()}},"Add a new plant"),t&&this.renderForm(),l.a.createElement("div",{className:"plantcards"},this.state.plants.map((function(t){return l.a.createElement("div",{className:"plantcard",key:t._id},l.a.createElement("div",{className:"plantcardtop"},l.a.createElement("p",{className:"plantcardname"},t.name),l.a.createElement("div",{className:"plantcardtopbtn"},l.a.createElement(c.b,{to:"/plant/edit/".concat(t._id)},l.a.createElement("i",{className:"fas fa-edit"})),l.a.createElement("i",{onClick:function(){e.deleteItem(t._id)},className:"fas fa-trash"}))),l.a.createElement("img",{className:"plantcardimage",src:t.image,alt:"plant"}),l.a.createElement("div",{className:"plantcardallinfo"},l.a.createElement("p",{className:"plantcardinfo"},l.a.createElement("b",null,"Enlightment"),": ",t.enlightment),l.a.createElement("p",{className:"plantcardinfo"},l.a.createElement("b",null,"Watering: "),t.watering),l.a.createElement("p",{className:"plantcardinfo"},l.a.createElement("b",null," Water interval:")," ",t.wateringinterval," days"),l.a.createElement("br",null),l.a.createElement("p",{className:"plantcardinfo"},l.a.createElement("b",null," Last watering:")," ",t.waterDate.slice(0,10)," ")),l.a.createElement("button",{className:"givemewater",onClick:function(){e.waterDate(t._id)}},"Water me ! ",l.a.createElement("i",{className:"fas fa-hand-holding-water"})))}))))}}]),a}(n.Component)),ee=M((function(e){var t=e.component,a=e.context,n=Object(W.a)(e,["component","context"]);return a.isLoading?null:a.isLoggedIn?l.a.createElement(A.b,Object.assign({},n,{render:function(e){return l.a.createElement(t,e)}})):l.a.createElement(A.a,{to:"/signin"})})),te=a(16),ae=a.n(te),ne=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={title:"",author:"",subtitle:"",comments:"",picture:"https://cdn1.iconfinder.com/data/icons/gardening-filled-line/614/1935_-_Growing_Plant-512.png",httpResponse:null,error:null,loading:!1},e.handleChange=function(t){var a=t.target.name,n="file"===t.target.type?t.target.files[0]:t.target.value;console.log(a,n),e.setState(Object(B.a)({},a,n))},e.handleSubmit=function(t){t.preventDefault();var a=new FormData,n=e.state;n.httpResponse;G(a,Object(W.a)(n,["httpResponse"])),O(a).then((function(t){setTimeout((function(){e.props.addPost(t),e.setState({title:"",subtitle:"",image:"",comments:"",loading:!1,httpResponse:{status:"success",message:"Item successfully added."}})}),1500),e.setState({loading:!0}),e.timeoutId=setTimeout((function(){e.setState({httpResponse:null})}),1e3)})).catch((function(t){console.log(t),e.setState({httpResponse:{status:"failure",message:"An error occured, try again later."}}),e.timeoutId=setTimeout((function(){e.setState({httpResponse:null})}),1e3)}))},e}return Object(o.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"wallForm"},l.a.createElement("form",{className:"form",onSubmit:this.handleSubmit},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"labelwall",htmlFor:"title"},"Title"),l.a.createElement("input",{id:"title",name:"title",className:"inputwall",type:"text",onChange:this.handleChange,value:this.state.title})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"labelwall",htmlFor:"description"},"Subtitle"),l.a.createElement("input",{id:"subtitle",name:"subtitle",className:"inputwall",placeholder:"Tell us something about this plant",onChange:this.handleChange,value:this.state.subtitle})),l.a.createElement("div",null,l.a.createElement("input",{id:"file",className:"inputfile",type:"file",name:"image",onChange:this.handleChange,value:this.props.picture}),l.a.createElement("label",{htmlFor:"file"},"Choose a file")),this.state.loading?l.a.createElement("button",{className:"btn-submit-plant"},l.a.createElement("img",{style:{height:"35px"},src:ae.a,alt:"loading"})):l.a.createElement("button",{className:"btn-submit-plant"},"Poster sur le mur")))}}]),a}(n.Component),le=Object(A.g)(ne),re=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={text:"",id_wall:e.props.postId},e.handleChange=function(t){var a=t.target.value;e.setState({text:a})},e.handleSubmit=function(t){t.preventDefault();var a=e.state;F(e.props.postId,a).then((function(t){console.log(t),e.setState({text:""}),e.props.seeNewComment()}))},e}return Object(o.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"commentForm"},l.a.createElement("div",{className:"ppusercontainercomment "},l.a.createElement("img",{src:this.props.userpic,className:"ppwall ",alt:"userpic"})),l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("label",{htmlFor:"comment"}),l.a.createElement("input",{onChange:this.handleChange,type:"text",placeholder:"Comment this",id:"comment",name:"text",value:this.state.text}),l.a.createElement("button",{className:"commentsubbtn"},l.a.createElement("i",{className:"fas fa-location-arrow"}))))}}]),a}(n.Component),se=Object(A.g)(re);var ce=function(e){return l.a.createElement("div",{className:"commentpart"},l.a.createElement("div",{className:"usercommenting"},l.a.createElement("div",{className:"ppusercontainercomment"},l.a.createElement("img",{className:"ppwall",src:e.userImg,alt:"userpic"}))),l.a.createElement("div",{className:"commentinside"},l.a.createElement("div",{className:"commetuser"},l.a.createElement("p",{className:"commentuserinfo"},l.a.createElement("b",null,e.userFirst," ",e.userLast)," "),l.a.createElement("p",{className:"commenttext"},e.text),l.a.createElement("pre",null,e.date.slice(0,10)," ",e.date.slice(11,16))),l.a.createElement("div",{className:"commentbtndelete"},e.userEmail===e.userLogged?l.a.createElement("div",{className:"posttopbtns"},l.a.createElement("i",{className:"fa fa-trash",onClick:function(){return e.deleteComment(e.id)}})):null)))};var ie=M((function(e){return l.a.createElement("div",{className:"wallbody"},l.a.createElement("div",{className:"wallpostcontainer"},l.a.createElement("div",{className:"posttop"},l.a.createElement("div",{className:"posttopuser"},l.a.createElement("div",{className:"wallpostuser"},l.a.createElement("div",{className:"ppusercontainer"},l.a.createElement("img",{className:"ppwall",src:e.userPic,alt:"userpic"})),l.a.createElement("div",{className:"posttopuserinfo"},l.a.createElement("p",{style:{fontSize:"0.9em"}},l.a.createElement(c.b,{to:"/users/".concat(e.userId)},l.a.createElement("b",null,e.userFirst," ",e.userLast))),l.a.createElement("pre",{className:"postdate"},e.date.slice(0,10)," ",e.date.slice(11,16))))),e.userLogged===e.userEmail?l.a.createElement("div",{className:"posttopbtns"},l.a.createElement("i",{className:"fa fa-trash",onClick:function(){return e.deletePost(e.id)}}),l.a.createElement(c.b,{to:"/wall/edit/".concat(e.id)},l.a.createElement("i",{className:"fas fa-edit"}))):null),l.a.createElement("hr",null),l.a.createElement("h3",{className:"posttitle"},e.title),l.a.createElement("img",{className:"wallpic",src:e.image,alt:"postimg"}),l.a.createElement("h5",{className:"postsubtitle"},e.subtitle),l.a.createElement("hr",null),l.a.createElement(se,{userpic:e.context.user.profileImg,postId:e.id,seeNewComment:e.seeNewComment}),e.comments.map((function(t){return l.a.createElement("div",{key:t._id},l.a.createElement(ce,{userImg:t.id_user.profileImg,userFirst:t.id_user.firstName,userLast:t.id_user.lastName,text:t.text,date:t.created_at,userEmail:t.id_user.email,userLogged:e.userLogged,id:t._id,deleteComment:e.deleteComment}))}))))})),oe=a(17),me=a.n(oe),ue=M(function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={wall:[],loading:!0,loadingSubmit:!1},e.addPost=function(t){I().then((function(t){e.sortByKey(t,"created_at"),e.setState({wall:t})})).catch((function(e){console.log(e)}))},e.deletePost=function(t){x(t).then((function(){e.setState({wall:e.state.wall.filter((function(e){return e._id!==t}))})}))},e.seeNewComment=function(){I().then((function(t){e.sortByKey(t,"created_at"),e.setState({wall:t})})).catch((function(e){console.log(e)}))},e.deleteComment=function(t){k(t).then((function(t){I().then((function(t){e.sortByKey(t,"created_at"),e.setState({wall:t})})).catch((function(e){console.log(e)}))}))},e}return Object(o.a)(a,[{key:"sortByKey",value:function(e,t){return e.sort((function(e,a){var n=e[t],l=a[t];return n<l?1:n>l?-1:0}))}},{key:"componentDidMount",value:function(){var e=this;I().then((function(t){e.sortByKey(t,"created_at"),setTimeout((function(){e.setState({wall:t,loading:!1})}),1e3)})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"wallFullPage"},l.a.createElement("div",{className:"wallpage"},l.a.createElement("div",{className:"fullbodywall"},l.a.createElement(le,{addPost:this.addPost}),l.a.createElement("div",{className:"wallPost"},this.state.loading?l.a.createElement("img",{style:{height:"100px",marginLeft:"70px"},src:me.a,alt:"loading gif"}):this.props.context.isLoggedIn&&this.state.wall.map((function(t){return l.a.createElement("div",{className:"wallbody",key:t._id},l.a.createElement(ie,{userLogged:e.props.context.user.email,id:t._id,title:t.title,image:t.image,subtitle:t.subtitle,userFirst:t.id_user.firstName,userLast:t.id_user.lastName,userPic:t.id_user.profileImg,userId:t.id_user._id,date:t.created_at,userEmail:t.id_user.email,deletePost:e.deletePost,comments:t.id_comments,seeNewComment:e.seeNewComment,deleteComment:e.deleteComment}))}))))))}}]),a}(n.Component)),pe=M(function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={plants:[]},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;N().then((function(t){var a=t.filter((function(t){return t.id_user===e.props.context.user._id}));e.setState({plants:a})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return l.a.createElement("div",{className:"fullbodyprofile"},l.a.createElement("h1",{className:"userpagetitle"},"My profile"),l.a.createElement("div",{className:"flexuserpageprofile"},l.a.createElement("div",{className:"userplantspartleft"},l.a.createElement("h1",{className:"userpageplantstitle"},"My plants"),l.a.createElement("div",{className:"usersplants"},this.state.plants.map((function(e){return l.a.createElement("div",{key:e._id,className:"userplantsbody"},l.a.createElement("div",{className:"userplantscontainer",key:e._id},l.a.createElement("p",{className:"userplantname"},e.name),l.a.createElement("img",{className:"userplantimage",src:e.image,alt:"plantimg"})))})))),l.a.createElement("div",{className:"userplantspartright"},l.a.createElement("h1",{className:"userpageplantstitle"}," My Posts"),l.a.createElement(ue,null))))}}]),a}(n.Component)),he=M(function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={wall:[],loading:!0,loadingSubmit:!1},e.addPost=function(t){_().then((function(t){e.sortByKey(t,"created_at"),e.setState({wall:t})})).catch((function(e){console.log(e)}))},e.deletePost=function(t){x(t).then((function(){e.setState({wall:e.state.wall.filter((function(e){return e._id!==t}))})}))},e.seeNewComment=function(){_().then((function(t){e.sortByKey(t,"created_at"),e.setState({wall:t})})).catch((function(e){console.log(e)}))},e.deleteComment=function(t){k(t).then((function(t){_().then((function(t){e.sortByKey(t,"created_at"),e.setState({wall:t})})).catch((function(e){console.log(e)}))}))},e}return Object(o.a)(a,[{key:"sortByKey",value:function(e,t){return e.sort((function(e,a){var n=e[t],l=a[t];return n<l?1:n>l?-1:0}))}},{key:"componentDidMount",value:function(){var e=this;_().then((function(t){e.sortByKey(t,"created_at"),setTimeout((function(){e.setState({wall:t,loading:!1})}),1e3)})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"wallFullPage"},l.a.createElement("div",{className:"wallpage"},l.a.createElement("div",{className:"fullbodywall"},l.a.createElement("h1",{className:"walltitle"}," Main Wall"),l.a.createElement(le,{addPost:this.addPost}),l.a.createElement("div",{className:"wallPost"},this.state.loading?l.a.createElement("img",{style:{height:"100px",marginLeft:"70px"},src:me.a,alt:"loading gif"}):this.props.context.isLoggedIn&&this.state.wall.map((function(t){return l.a.createElement("div",{className:"wallbody",key:t._id},l.a.createElement(ie,{userLogged:e.props.context.user.email,id:t._id,title:t.title,image:t.image,subtitle:t.subtitle,userFirst:t.id_user.firstName,userLast:t.id_user.lastName,userPic:t.id_user.profileImg,userId:t.id_user._id,date:t.created_at,userEmail:t.id_user.email,deletePost:e.deletePost,comments:t.id_comments,seeNewComment:e.seeNewComment,deleteComment:e.deleteComment}))}))))))}}]),a}(n.Component));a(64).config();var de=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={httpResponse:null},e.formRef=l.a.createRef(),e.handleChange=function(t){var a=t.target.name,n="file"===t.target.type?t.target.files[0]:t.target.value;console.log(a,n),e.setState(Object(B.a)({},a,n))},e.handleSubmit=function(t){t.preventDefault();var a=new FormData,n=e.state;n.httpResponse;G(a,Object(W.a)(n,["httpResponse"])),S(e.state.id,a).then((function(t){e.props.history.push("/myplants")})).catch((function(e){console.log(e)}))},e.handleFileSelect=function(t){t.tmpUrl;var a=t.file;e.setState({image:a})},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;N().then((function(t){var a=t.filter((function(t){return t._id===e.props.match.params.id}));e.setState({name:a[0].name,description:a[0].description,id:a[0]._id})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return l.a.createElement("div",{className:"ItemForm-container"},l.a.createElement("form",{className:"formEditplant",onSubmit:this.handleSubmit},l.a.createElement("h2",{className:"myplantstitle"},"Edit this Plant"),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"labelplant",htmlFor:"name"},"Name"),l.a.createElement("input",{id:"name",name:"name",className:"inputplant",type:"text",onChange:this.handleChange,defaultValue:this.state.name})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"labelplant",htmlFor:"enlightment"},"Enlightment"),l.a.createElement("select",{className:"selectplant",name:"enlightment",onChange:this.handleChange,defaultValue:this.state.enlightment},l.a.createElement("option",{value:""},"Choose an option"),l.a.createElement("option",{value:"Direct sun"},"Direct sun"),l.a.createElement("option",{value:"Bright light"},"Bright light"),l.a.createElement("option",{value:"Filtered light"},"Filtered light"),l.a.createElement("option",{value:"Shade"},"Shade"))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"labelplant",htmlFor:"watering"},"Watering level"),l.a.createElement("select",{className:"selectplant",name:"watering",onChange:this.handleChange,defaultValue:this.state.watering},l.a.createElement("option",{value:""},"Choose an option"),l.a.createElement("option",{value:"Heavy"},"Heavy"),l.a.createElement("option",{value:"Medium"},"Medium"),l.a.createElement("option",{value:"Low"},"Low"))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"labelplant",htmlFor:"wateringinterval"},"Water interval"),l.a.createElement("input",{className:"inputplant",id:"wateringinterval",name:"wateringinterval",type:"number",onChange:this.handleChange,value:this.state.wateringinterval})),l.a.createElement("div",null,l.a.createElement("input",{className:"inputfile",type:"file",name:"image",onChange:this.handleChange,id:"image"}),l.a.createElement("label",{for:"image"},"Choose a file")),l.a.createElement("button",{className:"btn-submit-plant"},"Save Changes")))}}]),a}(n.Component),fe=Object(A.g)(de),ge=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={title:"",subtitle:"",httpResponse:null},e.formRef=l.a.createRef(),e.handleChange=function(t){var a=t.target.name,n="file"===t.target.type?t.target.files[0]:t.target.value;console.log(a,n),e.setState(Object(B.a)({},a,n))},e.handleSubmit=function(t){t.preventDefault();var a=new FormData,n=e.state;n.httpResponse;G(a,Object(W.a)(n,["httpResponse"])),j(e.state.id,a).then((function(t){e.props.history.push("/wall")})).catch((function(e){console.log(e)}))},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;_().then((function(t){console.log(t);var a=t.filter((function(t){return t._id===e.props.match.params.id}));console.log(a),e.setState({title:a[0].title,subtitle:a[0].subtitle,id:a[0]._id})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return l.a.createElement("div",{className:"ItemForm-container"},l.a.createElement("form",{className:"form",onSubmit:this.handleSubmit},l.a.createElement("h2",{className:"myplantstitle"},"Edit this Post"),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"labelplant",htmlFor:"name"},"Title"),l.a.createElement("input",{id:"title",name:"title",className:"inputplant",placeholder:"Post title",type:"text",onChange:this.handleChange,defaultValue:this.state.title})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"labelplant",htmlFor:"description"},"Subtitle"),l.a.createElement("input",{id:"subtitle",name:"subtitle",type:"text",className:"inputplant",placeholder:"About this picture",onChange:this.handleChange,defaultValue:this.state.subtitle})),l.a.createElement("div",null,l.a.createElement("input",{className:"fileplant",type:"file",name:"image",onChange:this.handleChange})),l.a.createElement("button",{className:"btn-submit"},"Save Changes")))}}]),a}(n.Component),Ee=Object(A.g)(ge),ve=M(function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={wall:[],loading:!0,loadingSubmit:!1},e.deletePost=function(t){x(t).then((function(){e.setState({wall:e.state.wall.filter((function(e){return e._id!==t}))})}))},e.seeNewComment=function(){P(e.props.user).then((function(t){e.sortByKey(t,"created_at"),e.setState({wall:t})})).catch((function(e){console.log(e)}))},e.deleteComment=function(t){k(t).then((function(t){P(e.props.user).then((function(t){e.sortByKey(t,"created_at"),e.setState({wall:t})})).catch((function(e){console.log(e)}))}))},e}return Object(o.a)(a,[{key:"sortByKey",value:function(e,t){return e.sort((function(e,a){var n=e[t],l=a[t];return n<l?1:n>l?-1:0}))}},{key:"componentDidMount",value:function(){var e=this;P(this.props.user).then((function(t){e.sortByKey(t,"created_at"),setTimeout((function(){e.setState({wall:t,loading:!1})}),1e3)})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"wallFullPage"},l.a.createElement("div",{className:"wallpage"},l.a.createElement("div",{className:"fullbodywall"},l.a.createElement("div",{className:"wallPost"},this.state.loading?l.a.createElement("img",{style:{height:"100px",marginLeft:"70px"},src:ae.a,alt:"loading gif"}):this.props.context.isLoggedIn&&this.state.wall.map((function(t){return l.a.createElement("div",{className:"wallbody",key:t._id},l.a.createElement(ie,{userLogged:e.props.context.user.email,id:t._id,title:t.title,image:t.image,subtitle:t.subtitle,userFirst:t.id_user.firstName,userLast:t.id_user.lastName,userPic:t.id_user.profileImg,userId:t.id_user._id,date:t.created_at,userEmail:t.id_user.email,deletePost:e.deletePost,comments:t.id_comments,seeNewComment:e.seeNewComment,deleteComment:e.deleteComment}))}))))))}}]),a}(n.Component)),be=M(function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={plant:[],user:""},e}return Object(o.a)(a,[{key:"sortByKey",value:function(e,t){return e.sort((function(e,a){var n=e[t],l=a[t];return n<l?1:n>l?-1:0}))}},{key:"componentDidMount",value:function(){var e=this;L(this.props.match.params.id).then((function(t){console.log(t),e.setState({user:t})})),N().then((function(t){var a=t.filter((function(t){return t.id_user===e.props.match.params.id}));e.setState({plant:a})}))}},{key:"render",value:function(){return l.a.createElement("div",{className:"oneuserbody"},l.a.createElement("div",{className:"usernameppfu"},l.a.createElement("div",{className:"ppusercontainer2"},l.a.createElement("img",{className:"ppwall",src:this.state.user.profileImg,alt:"userpic"})),l.a.createElement("h1",{key:this.state.user._id,className:"userpagetitle"},this.state.user.firstName," profile page")),l.a.createElement("div",{className:"flexuserpage"},l.a.createElement("div",{className:"userplantspartleft"},l.a.createElement("h1",{className:"userpageplantstitle"},"User plants"),l.a.createElement("div",{className:"usersplants"},this.state.plant.map((function(e){return l.a.createElement("div",{key:e._id,className:"userplantsbody"},l.a.createElement("div",{className:"userplantscontainer",key:e._id},l.a.createElement("p",{className:"userplantname"},e.name),l.a.createElement("img",{className:"userplantimage",src:e.image,alt:"plantimg"})))})))),l.a.createElement("div",{className:"userplantspartright"},l.a.createElement("h1",{className:"userpageplantstitle"},"User Posts"),l.a.createElement(ve,{user:this.props.match.params.id}))))}}]),a}(n.Component)),Ne=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={users:[],plants:[],foundUsers:[],sortValue:"",inputValue:""},e.userFilterOnChange=function(t){e.setState({inputValue:t.target.value})},e.submitSearch=function(t){t.preventDefault(),b().then((function(t){var a=t.filter((function(t){return t.firstName.toLowerCase().includes(e.state.inputValue.toLowerCase())}));e.setState({users:a,inputValue:""})}))},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;b().then((function(t){var a=t.filter((function(t){return t.firstName.toLowerCase().includes(e.state.inputValue.toLowerCase())}));e.setState({users:a})}))}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"fulluserpagebody2"},l.a.createElement("h1",{className:"myplantstitle"},"Users list"),l.a.createElement("form",{className:"searchformuserpage",onSubmit:this.submitSearch},l.a.createElement("label",{className:"labelplant",htmlFor:"search"},"Search by name"),l.a.createElement("input",{className:"inputplant",type:"text",value:this.state.inputValue,onChange:this.userFilterOnChange})),l.a.createElement("div",{className:"userpagebodyuserpage"},l.a.createElement("div",{className:"allusercontainerpage"},this.state.users.map((function(e){return l.a.createElement("div",{key:e._id},l.a.createElement("div",{className:"usercontainerpage",key:e._id},l.a.createElement("div",{className:"ppusercontainer"},l.a.createElement("img",{className:"ppwall",src:e.profileImg,alt:"userpic"})),l.a.createElement("p",null," ",l.a.createElement(c.b,{to:"/users/".concat(e._id)}," ",l.a.createElement("b",null,e.firstName," ",e.lastName," ")))),l.a.createElement("hr",{className:"hruser"}))}))))))}}]),a}(n.Component),ye=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={users:[],plants:[],foundUsers:[],sortValue:"",inputValue:""},e.userFilterOnChange=function(t){e.setState({inputValue:t.target.value})},e.submitSearch=function(t){t.preventDefault(),b().then((function(t){var a=t.filter((function(t){return t.firstName.toLowerCase().includes(e.state.inputValue.toLowerCase())}));console.log(e.state.inputValue),e.setState({users:a,inputValue:""})}))},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;b().then((function(t){var a=t.filter((function(t){return t.firstName.toLowerCase().includes(e.state.inputValue.toLowerCase())}));console.log(e.state.inputValue),e.setState({users:a})}))}},{key:"render",value:function(){return l.a.createElement("div",{className:"fulluserpagebody"},l.a.createElement("h1",{className:"myplantstitle"},"Users list"),l.a.createElement("form",{className:"searchform",onSubmit:this.submitSearch},l.a.createElement("label",{className:"labelplant",htmlFor:"search"},"Search by name"),l.a.createElement("input",{className:"inputplant",type:"text",value:this.state.inputValue,onChange:this.userFilterOnChange})),l.a.createElement("div",{className:"userpagebody"},l.a.createElement("div",{className:"allusercontainer"},this.state.users.map((function(e){return l.a.createElement("div",{key:e._id},l.a.createElement("div",{className:"usercontainer",key:e._id},l.a.createElement("div",{className:"ppusercontainer"},l.a.createElement("img",{className:"ppwall",src:e.profileImg})),l.a.createElement("p",null," ",l.a.createElement(c.b,{to:"/users/".concat(e._id)}," ",l.a.createElement("b",null,e.firstName," ",e.lastName," ")))),l.a.createElement("hr",{className:"hruser"}))})))))}}]),a}(n.Component);var we=function(){return l.a.createElement("div",{style:{display:"flex",justifyContent:"space-evenly",alignItems:"flex-start",flexWrap:"wrap"}},l.a.createElement(ye,null),l.a.createElement(he,null))};var Ce=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(V,null),l.a.createElement(A.d,null,l.a.createElement(A.b,{exact:!0,path:"/",component:T}),l.a.createElement(A.b,{exact:!0,path:"/signin",component:T}),l.a.createElement(A.b,{exact:!0,path:"/signup",component:z}),l.a.createElement(ee,{exact:!0,path:"/wall",component:we}),l.a.createElement(ee,{exact:!0,path:"/myplants",component:$}),l.a.createElement(ee,{exact:!0,path:"/profile",component:pe}),l.a.createElement(ee,{exact:!0,path:"/plant/edit/:id",component:fe}),l.a.createElement(ee,{exact:!0,path:"/wall/edit/:id",component:Ee}),l.a.createElement(ee,{exact:!0,path:"/users",component:Ne}),l.a.createElement(ee,{exact:!0,path:"/users/:id",component:be})))};a(67),a(68),a(69),a(70),a(71),a(72),a(73);s.a.render(l.a.createElement(c.a,null,l.a.createElement(R,null,l.a.createElement(Ce,null))),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.3537ad0e.chunk.js.map