(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{34:function(e,t,a){e.exports=a(72)},55:function(e,t,a){},61:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var n,l=a(0),r=a.n(l),s=a(31),c=a.n(s),i=a(5),o=a(1),m=a(2),u=a(4),p=a(3),h=a(7),d=a(32),f=a.n(d).a.create({baseURL:"https://instagreeno.herokuapp.com",withCredentials:!0});function g(e){if(e.response.data)throw console.log(e.response&&e.response.data),e;throw e}var E=(n={service:f,signup:function(e){return f.post("/api/auth/signup",e).then((function(e){return e.data})).catch(g)},signin:function(e){return f.post("/api/auth/signin",e).then((function(e){return e.data})).catch(g)},isLoggedIn:function(){return f.get("/api/auth/isLoggedIn").then((function(e){return e.data})).catch(g)},logout:function(){return f.get("/api/auth/logout").then((function(e){return e.data})).catch(g)},getUsers:function(){return f.get("/api/user").then((function(e){return e.data})).catch(g)},searchUsers:function(e){return this.service.get("/api/user/search/api",{params:{search:e}})},getPlants:function(){return f.get("/api/plants").then((function(e){return e.data})).catch(g)},createPlant:function(e){return f.post("/api/plants",e).then((function(e){return e.data})).catch(g)},createDbPlant:function(e){return f.post("/api/dbplants",e).then((function(e){return e.data})).catch(g)},deleteItem:function(e){return f.delete("/api/plants/"+e).then((function(){console.log("successfully deleted")})).catch(g)},editItem:function(e,t){return f.patch("/api/plants/"+e,t).then((function(e){return e.data})).catch(g)},editWall:function(e,t){return f.patch("/api/wall/"+e,t).then((function(e){return e.data})).catch(g)},getWall:function(){return f.get("/api/wall").then((function(e){return e.data})).catch(g)},createWall:function(e){return f.post("/api/wall",e).then((function(e){return e.data})).catch(g)}},Object(h.a)(n,"editWall",(function(e,t){return f.patch("/api/wall/"+e,t).then((function(e){return e.data})).catch(g)})),Object(h.a)(n,"deleteWall",(function(e){return f.delete("/api/wall/"+e).then((function(){console.log("successfully deleted")})).catch(g)})),Object(h.a)(n,"getComment",(function(){return f.get("/api/comment").then((function(e){return e.data})).catch(g)})),Object(h.a)(n,"addComment",(function(e){return f.post("/api/comment",e).then((function(e){return e.data})).catch(g)})),Object(h.a)(n,"deleteComment",(function(e){return f.delete("/api/comment/"+e).then((function(){console.log("successfully deleted")})).catch(g)})),n),v=r.a.createContext(),b=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={user:null,isLoggedIn:!1,isLoading:!0},e.setUser=function(t){e.setState({user:t,isLoggedIn:!0})},e.removeUser=function(){e.setState({user:null,isLoggedIn:!1})},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;E.isLoggedIn().then((function(t){e.setState({user:t,isLoggedIn:!0,isLoading:!1})})).catch((function(t){e.setState({user:null,isLoggedIn:!1,isLoading:!1})}))}},{key:"render",value:function(){var e={user:this.state.user,setUser:this.setUser,removeUser:this.removeUser,isLoggedIn:this.state.isLoggedIn,isLoading:this.state.isLoading};return r.a.createElement(v.Provider,{value:e},this.props.children)}}]),a}(l.Component),N=a(6),y=function(e){return function(t){return r.a.createElement(v.Consumer,null,(function(a){return r.a.createElement(e,Object.assign({},t,{context:a}))}))}},w=(a(55),y((function(e){var t=e.context;return r.a.createElement("nav",{className:"NavMain"},r.a.createElement(i.c,{exact:!0,to:"/"},r.a.createElement("h3",{className:"logoApp"},"InstaGreen")),r.a.createElement("ul",{className:"nav-list"},t.isLoggedIn&&r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement(i.c,{to:"/myplants"},"My Plants")),r.a.createElement("li",null,r.a.createElement(i.c,{to:"/wall"},"Wall")),r.a.createElement("li",null,r.a.createElement(i.c,{to:"/users"},"Users")),r.a.createElement("li",null,r.a.createElement(i.c,{to:"/map"},"Map")),r.a.createElement("li",null,r.a.createElement(i.c,{to:"/profile"},t.user&&t.user.firstName)),r.a.createElement("li",null,r.a.createElement("p",{onClick:function(){E.logout().then((function(){t.removeUser()})).catch((function(e){console.log(e)}))}},"Logout"))),!t.isLoggedIn&&r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement(i.c,{to:"/signup"},"Create account")))))}))),C=(r.a.Component,function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={email:"",password:""},e.handleChange=function(t){var a=t.target.name,n=t.target.value;e.setState(Object(h.a)({},a,n))},e.handleSubmit=function(t){t.preventDefault(),E.signin(e.state).then((function(t){e.context.setUser(t),e.props.history.push("/wall")})).catch((function(e){console.log(e)}))},e}return Object(m.a)(a,[{key:"render",value:function(){return this.context.user?r.a.createElement(N.a,{to:"/"}):r.a.createElement("div",{className:"signinParent"},r.a.createElement("form",{onChange:this.handleChange,onSubmit:this.handleSubmit,className:"signinform"},r.a.createElement("label",{className:"signinform_label",htmlFor:"email"},"email"),r.a.createElement("input",{type:"email",id:"email",name:"email",className:"signinform_input"}),r.a.createElement("label",{className:"signinform_label",htmlFor:"password"},"password"),r.a.createElement("input",{type:"password",id:"password",name:"password",className:"signinform_input"}),r.a.createElement("button",{className:"signinform_button"},"Log In")))}}]),a}(l.Component));C.contextType=v;var S=Object(N.g)(C),O=function(e){return r.a.createElement("div",{className:"signincontainer"},r.a.createElement("div",{className:"signin"},r.a.createElement("div",{className:"signin_left"},r.a.createElement("h1",{className:"signin_left_title"}," InstaGreen"),r.a.createElement("h2",{className:"signin_left_subtitle"},"Your plant care starts here..."),r.a.createElement("section",{className:"homeinfos"},r.a.createElement("article",{className:"homecontainer"},r.a.createElement("h3",null," Share "),r.a.createElement("p",{className:"containertext"},"Add your plants and share them with your friends !")),r.a.createElement("article",{className:"homecontainer"},r.a.createElement("h3",null," Care "),r.a.createElement("p",{className:"containertext"},"Know how to treat your plants and get helped by the community")),r.a.createElement("article",{className:"homecontainer"},r.a.createElement("h3",null," Exchange "),r.a.createElement("p",{className:"containertext"},"Exchange your plants or offer cuttings to anyone !")))),r.a.createElement("div",{className:"signin_right"},r.a.createElement(S,null),r.a.createElement("p",{className:"signin_right_text"}," No account yet ?",r.a.createElement(i.c,{to:"/signup"},"Sign up here !")))))},j=a(9);function _(e,t,a){if(!t||"object"!==typeof t||t instanceof Date||t instanceof File){var n=null==t?"":t;e.append(a,n)}else Object.keys(t).forEach((function(n){_(e,t[n],a?"".concat(a,"[").concat(n,"]"):n)}))}var F=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={email:"",image:null,password:"",firstName:"",lastName:""},e.handleChange=function(t){var a="file"===t.target.type?t.target.files[0]:t.target.value,n=t.target.name;e.setState(Object(h.a)({},n,a))},e.handleSubmit=function(t){t.preventDefault();var a=new FormData,n=e.state;n.httpResponse;_(a,Object(j.a)(n,["httpResponse"])),E.signup(a).then((function(t){e.context.setUser(t)})).catch((function(e){console.log(e)}))},e}return Object(m.a)(a,[{key:"render",value:function(){return this.context.user?r.a.createElement(N.a,{to:"/"}):r.a.createElement("div",{class:"formcontainersignup"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:"signupform"},r.a.createElement("label",{htmlFor:"firstName"},"First Name"),r.a.createElement("input",{className:"signupinput",onChange:this.handleChange,value:this.state.firstName,type:"text",id:"firstName",name:"firstName"}),r.a.createElement("label",{htmlFor:"lastName"},"Last Name"),r.a.createElement("input",{className:"signupinput",onChange:this.handleChange,value:this.state.lastName,type:"text",id:"lastName",name:"lastName"}),r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{className:"signupinput",onChange:this.handleChange,value:this.state.email,type:"email",id:"email",name:"email"}),r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{className:"signupinput",onChange:this.handleChange,value:this.state.password,type:"password",id:"password",name:"password"}),r.a.createElement("div",null,r.a.createElement("input",{type:"file",name:"profileImg",onChange:this.handleChange,value:this.props.image})),r.a.createElement("button",null," Register ")))}}]),a}(l.Component);F.contextType=v;var x=Object(N.g)(F),I=function(e){return r.a.createElement(x,null)},k=a(16),U=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={name:"",description:"",image:null,enlightment:"",watering:"",wateringinterval:"",growingperiod:"",isWatered:!0,waterDate:"",httpResponse:null,error:null},e.handleChange=function(t){var a=t.target.name,n="file"===t.target.type?t.target.files[0]:t.target.value;console.log(a,n),e.setState(Object(h.a)({},a,n))},e.handleSubmit=function(t){t.preventDefault();var a=new FormData,n=e.state;n.httpResponse;_(a,Object(j.a)(n,["httpResponse"])),E.createPlant(a).then((function(t){e.props.addItem(t),e.setState({name:"",description:"",enlightment:"",watering:"",wateringinterval:0,growingperiod:"",image:null,httpResponse:{status:"success",message:"Item successfully added."}}),e.timeoutId=setTimeout((function(){e.setState({httpResponse:null})}),1e3)})).catch((function(t){console.log(t),e.setState({httpResponse:{status:"failure",message:"An error occured, try again later."}}),e.timeoutId=setTimeout((function(){e.setState({httpResponse:null})}),1e3)}))},e}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"PlantFormContainer"},r.a.createElement("form",{className:"PlantForm",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"labelplant",htmlFor:"name"},"Name"),r.a.createElement("input",{id:"name",name:"name",className:"inputplant",type:"text",onChange:this.handleChange,value:this.state.name})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"labelplant",htmlFor:"enlightment"},"Enlightment"),r.a.createElement("select",{className:"selectplant",name:"enlightment",onChange:this.handleChange,value:this.state.enlightment},r.a.createElement("option",{value:""},"Choose an option"),r.a.createElement("option",{value:"Direct sun"},"Direct sun"),r.a.createElement("option",{value:"Bright light"},"Bright light"),r.a.createElement("option",{value:"Filtered light"},"Filtered light"),r.a.createElement("option",{value:"Shade"},"Shade"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"labelplant",htmlFor:"watering"},"Watering level"),r.a.createElement("select",{className:"selectplant",name:"watering",onChange:this.handleChange,value:this.state.watering},r.a.createElement("option",{value:""},"Choose an option"),r.a.createElement("option",{value:"Heavy"},"Heavy"),r.a.createElement("option",{value:"Medium"},"Medium"),r.a.createElement("option",{value:"Low"},"Low"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"labelplant",htmlFor:"wateringinterval"},"Water interval"),r.a.createElement("input",{className:"inputplant",id:"wateringinterval",name:"wateringinterval",type:"number",onChange:this.handleChange,value:this.state.wateringinterval})),r.a.createElement("div",null,r.a.createElement("input",{className:"fileplant",type:"file",name:"image",onChange:this.handleChange,value:this.props.image})),r.a.createElement("button",{className:"btn-submit-plant"},"Add Plant")))}}]),a}(l.Component),D=Object(N.g)(U),R=y(function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={plants:[],date:"",showForm:!1},e.showForm=function(){!1===e.state.showForm?e.setState({showForm:!0}):e.setState({showForm:!1})},e.addItem=function(t){e.setState({plants:[].concat(Object(k.a)(e.state.plants),[t]),showForm:!1})},e.deleteItem=function(t){E.deleteItem(t).then((function(){e.setState({plants:e.state.plants.filter((function(e){return e._id!==t}))})}))},e.waterDate=function(t){var a=new Date,n=a.getDate(),l=a.getMonth()+1,r=a.getFullYear();n<10&&(n="0"+n),l<10&&(l="0"+l),a=l+"-"+n+"-"+r,console.log(a),a=l+"/"+n+"/"+r,console.log(a),a=n+"-"+l+"-"+r,console.log(a),a=l+"/"+n+"/"+r,E.editItem(t,{waterDate:a}).then((function(t){E.getPlants().then((function(t){console.log(t);var a=t.filter((function(t){return t.id_user===e.props.context.user._id}));e.setState({plants:a})})).catch((function(e){console.log(e)}))}))},e}return Object(m.a)(a,[{key:"renderForm",value:function(){return r.a.createElement(D,{addItem:this.addItem})}},{key:"componentDidMount",value:function(){var e=this;E.getPlants().then((function(t){console.log(t);var a=t.filter((function(t){return t.id_user===e.props.context.user._id}));e.setState({plants:a})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state.showForm;return r.a.createElement("div",{className:"myplantspage"}," ",r.a.createElement("h1",{className:"myplantstitle"},"My plants"),r.a.createElement("button",{className:"addplantbtn",onClick:function(){return e.showForm()}},"Add a new plant"),t&&this.renderForm(),r.a.createElement("div",{className:"plantcards"},this.state.plants.map((function(t){return r.a.createElement("div",{className:"plantcard",key:t._id},r.a.createElement("div",{className:"plantcardtop"},r.a.createElement("p",{className:"plantcardname"},t.name),r.a.createElement("div",{className:"plantcardtopbtn"},r.a.createElement(i.b,{to:"/plant/edit/".concat(t._id)},r.a.createElement("i",{class:"fas fa-edit"})),r.a.createElement("i",{onClick:function(){e.deleteItem(t._id)},class:"fas fa-trash"}))),r.a.createElement("img",{className:"plantcardimage",src:t.image}),r.a.createElement("div",{className:"plantcardallinfo"},r.a.createElement("p",{className:"plantcardinfo"},r.a.createElement("b",null,"Enlightment"),": ",t.enlightment),r.a.createElement("p",{className:"plantcardinfo"},r.a.createElement("b",null,"Watering: "),t.watering),r.a.createElement("p",{className:"plantcardinfo"},r.a.createElement("b",null," Water interval:")," ",t.wateringinterval," days"),r.a.createElement("br",null),r.a.createElement("p",{className:"plantcardinfo"},r.a.createElement("b",null," Last watering:")," ",t.waterDate," ")),r.a.createElement("button",{className:"givemewater",onClick:function(){e.waterDate(t._id)}},"Water me ! ",r.a.createElement("i",{class:"fas fa-hand-holding-water"})))}))))}}]),a}(l.Component)),L=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Green Clinic"))}}]),a}(l.Component),P=y((function(e){var t=e.component,a=e.context,n=Object(j.a)(e,["component","context"]);return a.isLoading?null:a.isLoggedIn?r.a.createElement(N.b,Object.assign({},n,{render:function(e){return r.a.createElement(t,e)}})):r.a.createElement(N.a,{to:"/signin"})})),A=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).state={comments:[]},e.displayUserPostButtons=function(t){if(e.props.userEmail===t.id_user.email)return r.a.createElement("div",null,r.a.createElement("i",{class:"fas fa-trash",onClick:function(){e.props.deleteComment(t._id)}}))},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;E.getComment().then((function(t){console.log(t);var a=t.filter((function(t){return t.id_wall==e.props.postId}));e.setState({comments:a})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{class:"completecomment"},this.state.comments.map((function(t){return r.a.createElement("div",{className:"commentpart",key:t._id},r.a.createElement("div",{className:"usercommenting"},r.a.createElement("div",{className:"ppusercontainercomment"},r.a.createElement("img",{className:"ppwall",src:t.id_user.profileImg}))),r.a.createElement("div",{className:"commentinside"},r.a.createElement("div",{className:"commetuser"},r.a.createElement("p",{className:"commentuserinfo"},r.a.createElement("b",null,t.id_user.firstName," ",t.id_user.lastName)," "),r.a.createElement("p",{className:"commenttext"},t.text),r.a.createElement("p",{className:"commentuserinfo"},t.created_at.slice(0,10)," ")),r.a.createElement("div",{className:"commentbtndelete"},e.displayUserPostButtons(t))))})))}}]),a}(l.Component),M=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={text:"",id_wall:e.props.postId},e.handleChange=function(t){var a=t.target.name,n=t.target.value;console.log("--------"+a,n),e.setState({text:n}),console.log(e.state)},e.handleSubmit=function(t){t.preventDefault();var a=e.state;E.addComment(a).then((function(t){e.props.addCommentUpdate(t),e.setState({text:""})})),console.log("wowowow")},e}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"commentForm"},r.a.createElement("div",{className:"ppusercontainercomment "},r.a.createElement("img",{src:this.props.userpic,className:"ppwall "})),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",{htmlFor:"comment"}),r.a.createElement("input",{onChange:this.handleChange,type:"text",placeholder:"Comment this",id:"comment",name:"text",value:this.state.text}),r.a.createElement("button",{class:"commentsubbtn"},r.a.createElement("i",{class:"fas fa-location-arrow"}))))}}]),a}(l.Component),W=Object(N.g)(M),B=y(function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={plants:[],posts:[],comments:[]},e.deleteItem=function(t){E.deleteWall(t).then((function(){e.setState({posts:e.state.posts.filter((function(e){return e._id!==t}))})}))},e.addCommentUpdate=function(t){E.getComment().then((function(a){console.log(a);a.filter((function(t){return t.id_wall._id===e.state.posts.postId_id}));e.setState({comments:t})}))},e.deleteComment=function(t){E.deleteComment(t).then((function(){e.setState({comments:"this.state.posts.filter((it) => it._id == commentId)"})}))},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;E.getPlants().then((function(t){console.log(t);var a=t.filter((function(t){return t.id_user===e.props.context.user._id}));e.setState({plants:a})})).catch((function(e){console.log(e)})),E.getWall().then((function(t){console.log(t);var a=t.filter((function(t){return t.id_user._id===e.props.context.user._id}));console.log(),e.setState({posts:a})})).catch((function(e){console.log(e)})),E.getComment().then((function(t){console.log(t);var a=t.filter((function(t){return t.id_wall._id===e.state.posts.postId_id}));e.setState({comments:a})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"fullbodyprofile"},r.a.createElement("h1",null,"My plants"),r.a.createElement("div",{className:"profilemyplants"},this.state.plants.map((function(e){return r.a.createElement("div",{className:"profilemyplants",key:e._id},r.a.createElement("div",{className:"profileplantcard"},r.a.createElement("p",{className:""},e.name),r.a.createElement("img",{className:"profileplant",src:e.image})))}))),r.a.createElement("h1",null," My Posts"),this.state.posts.map((function(t){return r.a.createElement("div",{className:"wallbodyprofile",key:t._id},r.a.createElement("div",{className:"wallpostcontainer"},r.a.createElement("div",{className:"profiletoppost"},r.a.createElement("h3",{className:"posttitleprofile"},t.title),r.a.createElement("div",{className:"posttop"},r.a.createElement("i",{className:"fas fa-trash",onClick:function(){e.deleteItem(t._id)}}),r.a.createElement(i.b,{to:"/wall/edit/".concat(t._id)},r.a.createElement("i",{className:"fas fa-edit"})))),r.a.createElement("img",{className:"wallpic",src:t.image}),r.a.createElement("h5",{className:"postsubtitle"},t.subtitle),r.a.createElement("hr",null),r.a.createElement(W,{userpic:e.props.context.user.profileImg,addCommentUpdate:e.addCommentUpdate,postId:t._id}),r.a.createElement(A,{key:e.state.comments._id,postId:t._id,userCommenting:e.props.context.user.firstName,deleteComment:e.deleteComment,userEmail:e.props.context.user.email})))})))}}]),a}(l.Component)),V=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={title:"",author:"",subtitle:"",comments:"",picture:null,httpResponse:null,error:null},e.handleChange=function(t){var a=t.target.name,n="file"===t.target.type?t.target.files[0]:t.target.value;console.log(a,n),e.setState(Object(h.a)({},a,n))},e.handleSubmit=function(t){t.preventDefault();var a=new FormData,n=e.state;n.httpResponse;_(a,Object(j.a)(n,["httpResponse"])),E.createWall(a).then((function(t){console.log(t.id_user.firstName),e.props.addItem(t),e.setState({title:"",subtitle:"",image:"",comments:"",httpResponse:{status:"success",message:"Item successfully added."}}),e.timeoutId=setTimeout((function(){e.setState({httpResponse:null})}),1e3)})).catch((function(t){console.log(t),e.setState({httpResponse:{status:"failure",message:"An error occured, try again later."}}),e.timeoutId=setTimeout((function(){e.setState({httpResponse:null})}),1e3)}))},e}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"wallForm"},r.a.createElement("form",{className:"form",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"labelwall",htmlFor:"title"},"Title"),r.a.createElement("input",{id:"title",name:"title",className:"inputwall",type:"text",onChange:this.handleChange,value:this.state.title})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"labelwall",htmlFor:"description"},"Subtitle"),r.a.createElement("input",{id:"subtitle",name:"subtitle",className:"inputwall",placeholder:"Tell us something about this plant",onChange:this.handleChange,value:this.state.subtitle})),r.a.createElement("div",null,r.a.createElement("input",{className:"fileplant",type:"file",name:"image",onChange:this.handleChange,value:this.props.picture})),r.a.createElement("button",{className:"btn-submit-plant"},"Post on the wall !")))}}]),a}(l.Component),T=Object(N.g)(V),H=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={users:[],plants:[],foundUsers:[],sortValue:"",inputValue:""},e.userFilterOnChange=function(t){e.setState({inputValue:t.target.value})},e.submitSearch=function(t){t.preventDefault(),E.getUsers().then((function(t){var a=t.filter((function(t){return t.firstName.toLowerCase().includes(e.state.inputValue.toLowerCase())}));console.log(e.state.inputValue),e.setState({users:a,inputValue:""})}))},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;E.getUsers().then((function(t){var a=t.filter((function(t){return t.firstName.toLowerCase().includes(e.state.inputValue.toLowerCase())}));console.log(e.state.inputValue),e.setState({users:a})}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"fulluserpagebody"},r.a.createElement("h1",{className:"myplantstitle"},"Users list"),r.a.createElement("form",{className:"searchform",onSubmit:this.submitSearch},r.a.createElement("label",{className:"labelplant",htmlFor:"search"},"Search by name"),r.a.createElement("input",{className:"inputplant",type:"text",value:this.state.inputValue,onChange:this.userFilterOnChange})),r.a.createElement("div",{className:"userpagebody"},r.a.createElement("div",{className:"allusercontainer"},this.state.users.map((function(e){return r.a.createElement("div",null,r.a.createElement("div",{className:"usercontainer",key:e._id},r.a.createElement("div",{className:"ppusercontainer"},r.a.createElement("img",{className:"ppwall",src:e.profileImg})),r.a.createElement("p",null,"  ",r.a.createElement(i.b,{to:"/users/".concat(e._id)}," ",r.a.createElement("b",null,e.firstName," ",e.lastName," ")))),r.a.createElement("hr",{className:"hruser"}))})))))}}]),a}(l.Component),K=y(function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).state={wall:[],comments:[],showForm:!0},e.deleteComment=function(t){E.deleteComment(t).then((function(){e.setState({comments:e.state.wall.filter((function(e){return e._id==t}))})}))},e.addItem=function(t){E.getWall().then((function(t){console.log(t),e.sortByKey(t,"created_at"),e.setState({wall:t,currentUser:e.props.context.user.firstName})})).catch((function(e){console.log(e)})),e.setState({wall:[t].concat(Object(k.a)(e.state.wall))})},e.addCommentUpdate=function(t){E.getComment().then((function(a){console.log(a);a.filter((function(t){return t.id_wall._id===e.state.wall.postId_id}));e.setState({comments:t})}))},e.displayUserPost=function(t){return e.props.context.user.email===t.id_user.email?r.a.createElement("div",{className:"posttopuser"},r.a.createElement("div",{className:"wallpostuser"},r.a.createElement("div",{className:"ppusercontainer"},r.a.createElement("img",{className:"ppwall",src:t.id_user.profileImg})),r.a.createElement("div",{className:"posttopuserinfo"},r.a.createElement("p",null,r.a.createElement(i.b,{to:"/profile"}," ",r.a.createElement("b",null,"Me")," ")," "),r.a.createElement("div",{className:"postdate"},t.created_at.slice(0,10),"  ")))):r.a.createElement("div",{className:"posttopuser"},r.a.createElement("div",{className:"wallpostuser"},r.a.createElement("div",{className:"ppusercontainer"},r.a.createElement("img",{className:"ppwall",src:t.id_user.profileImg})),r.a.createElement("div",{className:"posttopuserinfo"},r.a.createElement("p",null,r.a.createElement(i.b,{to:"/users/".concat(t.id_user._id)},r.a.createElement("b",null,t.id_user.firstName," ",t.id_user.lastName))),r.a.createElement("div",{className:"postdate"},t.created_at.slice(0,10),"  "))))},e.displayUserPostButtons=function(t){if(e.props.context.user.email===t.id_user.email)return r.a.createElement("div",{className:"posttopbtns"},r.a.createElement(i.b,{to:"/wall/edit/".concat(t._id)},r.a.createElement("i",{className:"fas fa-edit"})),r.a.createElement("i",{className:"fas fa-trash",onClick:function(){e.deleteItem(t._id)}}))},e.deleteItem=function(t){E.deleteWall(t).then((function(){e.setState({wall:e.state.wall.filter((function(e){return e._id!==t}))})}))},e}return Object(m.a)(a,[{key:"sortByKey",value:function(e,t){return e.sort((function(e,a){var n=e[t],l=a[t];return n<l?1:n>l?-1:0}))}},{key:"renderForm",value:function(){}},{key:"componentDidMount",value:function(){var e=this;E.getWall().then((function(t){console.log(t),e.sortByKey(t,"created_at"),e.setState({wall:t,currentUser:e.props.context.user.firstName})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"wallFullPage"},r.a.createElement("div",null),r.a.createElement("div",{className:"fullbodywall"},r.a.createElement(T,{addItem:this.addItem}),r.a.createElement("div",{className:"wallPost"},this.state.wall.map((function(t){return r.a.createElement("div",{className:"wallbody",key:t._id},r.a.createElement("div",{className:"wallpostcontainer"},r.a.createElement("div",{className:"posttop"},e.displayUserPost(t),e.displayUserPostButtons(t)),r.a.createElement("hr",null),r.a.createElement("h3",{className:"posttitle"},t.title),r.a.createElement("img",{className:"wallpic",src:t.image}),r.a.createElement("h5",{className:"postsubtitle"},t.subtitle),r.a.createElement("hr",null),r.a.createElement(W,{userpic:e.props.context.user.profileImg,addCommentUpdate:e.addCommentUpdate,postId:t._id}),r.a.createElement(A,{key:e.state.comments._id,postId:t._id,userCommenting:e.props.context.user.firstName,deleteComment:e.deleteComment,userEmail:e.props.context.user.email})))})))),r.a.createElement("div",{className:"userswallpageee"},r.a.createElement(H,null)))}}]),a}(l.Component)),G=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Exchange Map"),r.a.createElement("h2",null,"In construction "))}}]),a}(l.Component),J=(a(61),r.a.forwardRef((function(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{className:"UploadWidget label",htmlFor:e.name},e.children),r.a.createElement("input",{onChange:function(t){var a=t.target.files[0],n=URL.createObjectURL(a);e.onFileSelect&&e.onFileSelect(n)},ref:t,className:"UploadWidget input",id:e.name,name:e.name,type:"file"}))})));a(62).config();var Y=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).state={httpResponse:null},e.formRef=r.a.createRef(),e.handleChange=function(t){var a=t.target.name,n="file"===t.target.type?t.target.files[0]:t.target.value;console.log(a,n),e.setState(Object(h.a)({},a,n))},e.handleSubmit=function(t){t.preventDefault();var a=new FormData,n=e.state;n.httpResponse;_(a,Object(j.a)(n,["httpResponse"])),E.editItem(e.state.id,a).then((function(t){e.props.history.push("/myplants")})).catch((function(e){console.log(e)}))},e.handleFileSelect=function(t){t.tmpUrl;var a=t.file;e.setState({image:a})},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;E.getPlants().then((function(t){var a=t.filter((function(t){return t._id===e.props.match.params.id}));e.setState({name:a[0].name,description:a[0].description,id:a[0]._id})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"ItemForm-container"},r.a.createElement("form",{className:"form",onSubmit:this.handleSubmit},r.a.createElement("h2",{className:"myplantstitle"},"Edit this Plant"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"labelplant",htmlFor:"name"},"Name"),r.a.createElement("input",{id:"name",name:"name",className:"inputplant",type:"text",onChange:this.handleChange,defaultValue:this.state.name})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"labelplant",htmlFor:"enlightment"},"Enlightment"),r.a.createElement("select",{className:"selectplant",name:"enlightment",onChange:this.handleChange,defaultValue:this.state.enlightment},r.a.createElement("option",{value:""},"Choose an option"),r.a.createElement("option",{value:"Direct sun"},"Direct sun"),r.a.createElement("option",{value:"Bright light"},"Bright light"),r.a.createElement("option",{value:"Filtered light"},"Filtered light"),r.a.createElement("option",{value:"Shade"},"Shade"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"labelplant",htmlFor:"watering"},"Watering level"),r.a.createElement("select",{className:"selectplant",name:"watering",onChange:this.handleChange,defaultvalue:this.state.watering},r.a.createElement("option",{value:""},"Choose an option"),r.a.createElement("option",{value:"Heavy"},"Heavy"),r.a.createElement("option",{value:"Medium"},"Medium"),r.a.createElement("option",{value:"Low"},"Low"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"labelplant",htmlFor:"wateringinterval"},"Water interval"),r.a.createElement("input",{className:"inputplant",id:"wateringinterval",name:"wateringinterval",type:"number",onChange:this.handleChange,value:this.state.wateringinterval})),r.a.createElement("div",null,r.a.createElement("input",{className:"fileplant",type:"file",name:"image",onChange:this.handleFileSelect})),r.a.createElement("button",{className:"btn-submit-plant"},"Save Changes")))}}]),a}(l.Component),q=Object(N.g)(Y),z=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).state={title:"",subtitle:"",httpResponse:null},e.formRef=r.a.createRef(),e.handleChange=function(t){var a=t.target.name,n="file"===t.target.type?t.target.files[0]:t.target.value;console.log(a,n),e.setState(Object(h.a)({},a,n))},e.handleSubmit=function(t){t.preventDefault();var a=new FormData,n=e.state;n.httpResponse;_(a,Object(j.a)(n,["httpResponse"])),E.editWall(e.state.id,a).then((function(t){e.props.history.push("/wall")})).catch((function(e){console.log(e)}))},e.handleFileSelect=function(t){t.tmpUrl;var a=t.file;e.setState({image:a})},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;E.getWall().then((function(t){console.log(t);var a=t.filter((function(t){return t._id===e.props.match.params.id}));console.log(a),e.setState({title:a[0].title,subtitle:a[0].subtitle,id:a[0]._id})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"ItemForm-container"},r.a.createElement("form",{className:"form",onSubmit:this.handleSubmit},r.a.createElement("h2",{className:"myplantstitle"},"Edit this Post"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"labelplant",htmlFor:"name"},"Title"),r.a.createElement("input",{id:"title",name:"title",className:"inputplant",placeholder:"Post title",type:"text",onChange:this.handleChange,defaultValue:this.state.title})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"labelplant",htmlFor:"description"},"Subtitle"),r.a.createElement("input",{id:"subtitle",name:"subtitle",type:"text",className:"inputplant",placeholder:"About this picture",onChange:this.handleChange,defaultValue:this.state.subtitle})),r.a.createElement("div",null,r.a.createElement(J,{onFileSelect:this.handleFileSelect,name:"image"},"Upload image")),r.a.createElement("button",{className:"btn-submit"},"Save Changes")))}}]),a}(l.Component),Q=Object(N.g)(z),X=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={name:"",description:"",image:null,enlightment:"",watering:"",growingperiod:"",httpResponse:null,error:null},e.handleChange=function(t){var a=t.target.name,n="file"===t.target.type?t.target.files[0]:t.target.value;console.log(a,n),e.setState(Object(h.a)({},a,n))},e.handleSubmit=function(t){t.preventDefault();var a=new FormData,n=e.state;n.httpResponse;_(a,Object(j.a)(n,["httpResponse"])),E.createDbPlant(a).then((function(t){e.props.addItem(t),e.setState({name:"",description:"",enlightment:"",watering:"",waterdays:0,mintemp:0,maxtemp:0,growingperiod:"",image:null,httpResponse:{status:"success",message:"Item successfully added."}}),e.timeoutId=setTimeout((function(){e.setState({httpResponse:null})}),1e3)})).catch((function(t){console.log(t),e.setState({httpResponse:{status:"failure",message:"An error occured, try again later."}}),e.timeoutId=setTimeout((function(){e.setState({httpResponse:null})}),1e3)}))},e}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"ItemForm-container"},r.a.createElement("form",{className:"form",onSubmit:this.handleSubmit},r.a.createElement("h2",{className:"title"},"Add a new Plant"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"label",htmlFor:"name"},"Name"),r.a.createElement("input",{id:"name",name:"name",className:"input",type:"text",onChange:this.handleChange,value:this.state.name})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"label",htmlFor:"description"},"Description"),r.a.createElement("textarea",{id:"description",name:"description",className:"text-area",placeholder:"Tell us something about this plant",onChange:this.handleChange,value:this.state.description})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"label",htmlFor:"enlightment"},"enlightment"),r.a.createElement("select",{name:"enlightment",onChange:this.handleChange,value:this.state.enlightment},r.a.createElement("option",{value:""},"--Please choose an option--"),r.a.createElement("option",{value:"Direct sun"},"Direct sun"),r.a.createElement("option",{value:"Bright light"},"Bright light"),r.a.createElement("option",{value:"Filtered light"},"Filtered light"),r.a.createElement("option",{value:"Shade"},"Shade"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"label",htmlFor:"watering"},"watering"),r.a.createElement("select",{name:"watering",onChange:this.handleChange,value:this.state.watering},r.a.createElement("option",{value:""},"--Please choose an option--"),r.a.createElement("option",{value:"Heavy"},"Heavy"),r.a.createElement("option",{value:"Medium"},"Medium"),r.a.createElement("option",{value:"Low"},"Low"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"label",htmlFor:"waterdays"},"Watering interval"),r.a.createElement("input",{id:"waterdays",name:"waterdays",type:"number",onChange:this.handleChange,value:this.state.waterdays})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"label",htmlFor:"mintemp"},"Minimum temp"),r.a.createElement("input",{id:"mintemp",name:"mintemp",type:"number",onChange:this.handleChange,value:this.state.mintemp})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"label",htmlFor:"mintemp"},"Maximum temp"),r.a.createElement("input",{id:"maxtemp",name:"maxtemp",type:"number",onChange:this.handleChange,value:this.state.maxtemp})),r.a.createElement("div",null,r.a.createElement("input",{type:"file",name:"image",onChange:this.handleChange,value:this.props.image})),r.a.createElement("button",{className:"btn-submit"},"Add Item")))}}]),a}(l.Component),Z=Object(N.g)(X),$=y(function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={user:[],plant:[],wall:[],comments:[]},e.addCommentUpdate=function(t){E.getComment().then((function(a){console.log(a);a.filter((function(t){return t.id_wall._id===e.state.wall.postId_id}));e.setState({comments:t})}))},e.deleteComment=function(t){E.deleteComment(t).then((function(){e.setState({comments:"this.state.posts.filter((it) => it._id == commentId)"})}))},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;E.getUsers().then((function(t){console.log(t);var a=t.filter((function(t){return t._id===e.props.match.params.id}));e.setState({user:a})})),E.getPlants().then((function(t){var a=t.filter((function(t){return t.id_user===e.props.match.params.id}));e.setState({plant:a})})),E.getWall().then((function(t){console.log(t);var a=t.filter((function(t){return t.id_user._id===e.props.match.params.id}));e.setState({wall:a})})),E.getComment().then((function(t){console.log(t);var a=t.filter((function(t){return t.id_wall._id===e.state.wall.postId_id}));e.setState({comments:a})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"oneuserbody"},this.state.user.map((function(e){return r.a.createElement("h1",null,e.firstName," profile page")})),r.a.createElement("h1",null,"User plants"),r.a.createElement("div",{className:"usersplants"},this.state.plant.map((function(e){return r.a.createElement("div",{className:"userplantsbody"},r.a.createElement("div",{className:"userplantscontainer",key:e._id},r.a.createElement("p",{className:"userplantname"},e.name),r.a.createElement("img",{className:"userplantimage",src:e.image})))}))),r.a.createElement("h1",null,"User Posts"),this.state.wall.map((function(t){return r.a.createElement("div",{className:"wallbody",key:t._id},r.a.createElement("div",{className:"wallpostcontainer"},r.a.createElement("div",{className:"profiletoppost"},r.a.createElement("h3",{className:"posttitleprofile"},t.title),r.a.createElement("div",{className:"posttop"})),r.a.createElement("img",{className:"wallpic",src:t.image}),r.a.createElement("h5",{className:"postsubtitle"},t.subtitle),r.a.createElement("hr",null),r.a.createElement(W,{userpic:e.props.context.user.profileImg,addCommentUpdate:e.addCommentUpdate,postId:t._id}),r.a.createElement(A,{key:e.state.comments._id,postId:t._id,userCommenting:e.props.context.user.firstName,deleteComment:e.deleteComment,userEmail:e.props.context.user.email})))})))}}]),a}(l.Component));var ee=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(w,null),r.a.createElement(N.d,null,r.a.createElement(N.b,{exact:!0,path:"/",component:O}),r.a.createElement(N.b,{exact:!0,path:"/signin",component:O}),r.a.createElement(N.b,{exact:!0,path:"/signup",component:I}),r.a.createElement(P,{exact:!0,path:"/wall",component:K}),r.a.createElement(P,{exact:!0,path:"/myplants",component:R}),r.a.createElement(P,{exact:!0,path:"/profile",component:B}),r.a.createElement(P,{exact:!0,path:"/greenclinic",component:L}),r.a.createElement(P,{exact:!0,path:"/map",component:G}),r.a.createElement(P,{exact:!0,path:"/plant/edit/:id",component:q}),r.a.createElement(P,{exact:!0,path:"/wall/edit/:id",component:Q}),r.a.createElement(N.b,{exact:!0,path:"/dbplantcreate",component:Z}),r.a.createElement(P,{exact:!0,path:"/users",component:H}),r.a.createElement(P,{exact:!0,path:"/users/:id",component:$})))};a(65),a(66),a(67),a(68),a(69),a(70),a(71);c.a.render(r.a.createElement(i.a,null,r.a.createElement(b,null,r.a.createElement(ee,null))),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.9cb0024d.chunk.js.map