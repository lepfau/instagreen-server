(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{19:function(e,t,a){e.exports=a.p+"static/media/loadinggif.8f6d93bc.gif"},23:function(e,t,a){e.exports=a.p+"static/media/loadingwall.4a35f914.gif"},43:function(e,t,a){},46:function(e,t,a){e.exports=a.p+"static/media/plant.97866f4f.png"},47:function(e,t,a){e.exports=a(92)},68:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){},92:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),s=a(22),r=a.n(s),i=a(5),c=a(1),o=a(2),m=a(4),u=a(3),p=a(17),h=a.n(p),d=h.a.create({baseURL:"https://instagreeno.herokuapp.com",withCredentials:!0});function f(e){if(e.response.data)throw console.log(e.response&&e.response.data),e;throw e}var g=function(e){return d.post("/api/auth/signup",e).then((function(e){return e.data})).catch(f)},E=function(e){return d.post("/api/auth/signin",e).then((function(e){return e.data})).catch(f)},v=function(){return d.get("/api/auth/isLoggedIn").then((function(e){return e.data})).catch(f)},b=function(){return d.get("/api/auth/logout").then((function(e){return e.data})).catch(f)},N=function(){return d.get("/api/user").then((function(e){return e.data})).catch(f)},y=function(){return d.get("/api/plants").then((function(e){return e.data})).catch(f)},w=function(){return d.get("/api/plants/userPlants").then((function(e){return e.data})).catch(f)},C=function(e){return d.post("/api/plants",e).then((function(e){return e.data})).catch(f)},S=function(e){return d.delete("/api/plants/"+e).then((function(){console.log("successfully deleted")})).catch(f)},j=function(e,t){return d.patch("/api/plants/"+e,t).then((function(e){return e.data})).catch(f)},O=function(){return d.get("/api/wall").then((function(e){return e.data})).catch(f)},x=function(e){return d.post("/api/wall",e).then((function(e){return e.data})).catch(f)},_=function(e,t){return d.patch("/api/wall/"+e,t).then((function(e){return e.data})).catch(f)},k=function(e){return d.delete("/api/wall/"+e).then((function(){console.log("successfully deleted")})).catch(f)},F=function(e,t){return d.post("/api/wall/".concat(e,"/comments"),t).then((function(e){return e.data})).catch(f)},I=function(e){return d.delete("/api/comment/"+e).then((function(){console.log("successfully deleted")})).catch(f)},L=function(e){return d.get("/api/user/".concat(e)).then((function(e){return e.data})).catch(f)},P=function(){return d.get("/api/wall/profileposts").then((function(e){return e.data})).catch(f)},R=function(e){return d.get("/api/wall/"+e).then((function(e){return e.data})).catch(f)},D=function(){return d.get("/api/item").then((function(e){return e.data})).catch(f)},A=function(e){return d.post("/api/item",e).then((function(e){return e.data})).catch(f)},V=l.a.createContext(),T=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).state={user:null,isLoggedIn:!1,isLoading:!0},e.setUser=function(t){e.setState({user:t,isLoggedIn:!0})},e.removeUser=function(){e.setState({user:null,isLoggedIn:!1})},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;v().then((function(t){e.setState({user:t,isLoggedIn:!0,isLoading:!1})})).catch((function(t){e.setState({user:null,isLoggedIn:!1,isLoading:!1})}))}},{key:"render",value:function(){var e={user:this.state.user,setUser:this.setUser,removeUser:this.removeUser,isLoggedIn:this.state.isLoggedIn,isLoading:this.state.isLoading};return l.a.createElement(V.Provider,{value:e},this.props.children)}}]),a}(n.Component),U=a(6),B=function(e){return function(t){return l.a.createElement(V.Consumer,null,(function(a){return l.a.createElement(e,Object.assign({},t,{context:a}))}))}},M=(a(68),B((function(e){var t=e.context;return l.a.createElement("nav",{className:"NavMain"},l.a.createElement(i.c,{exact:!0,to:"/"},l.a.createElement("h3",{className:"logoApp"},"InstaGreen")),l.a.createElement("ul",{className:"nav-list"},t.isLoggedIn&&l.a.createElement(l.a.Fragment,null,l.a.createElement("li",null,l.a.createElement(i.c,{to:"/myplants"},"My Plants")),l.a.createElement("li",null,l.a.createElement(i.c,{to:"/wall"},"Wall")),l.a.createElement("li",null,l.a.createElement(i.c,{to:"/users"},"Users")),l.a.createElement("li",null,l.a.createElement(i.c,{to:"/map"},"Map")),l.a.createElement("li",null,l.a.createElement(i.c,{to:"/profile"},t.user&&t.user.firstName)),l.a.createElement("li",null,l.a.createElement("p",{onClick:function(){b().then((function(){t.removeUser()})).catch((function(e){console.log(e)}))}},"Logout"))),!t.isLoggedIn&&l.a.createElement(l.a.Fragment,null,l.a.createElement("li",null,l.a.createElement(i.c,{to:"/signup"},"Create account")))))}))),W=a(9),K=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).state={email:"",password:""},e.handleChange=function(t){var a=t.target.name,n=t.target.value;e.setState(Object(W.a)({},a,n))},e.handleSubmit=function(t){t.preventDefault(),E(e.state).then((function(t){e.context.setUser(t),e.props.history.push("/wall")})).catch((function(e){console.log(e)}))},e}return Object(o.a)(a,[{key:"render",value:function(){return this.context.user?l.a.createElement(U.a,{to:"/"}):l.a.createElement("div",{className:"signinParent"},l.a.createElement("form",{onChange:this.handleChange,onSubmit:this.handleSubmit,className:"signinform"},l.a.createElement("label",{className:"signinform_label",htmlFor:"email"},"email"),l.a.createElement("input",{type:"email",id:"email",name:"email",className:"signinform_input"}),l.a.createElement("label",{className:"signinform_label",htmlFor:"password"},"password"),l.a.createElement("input",{type:"password",id:"password",name:"password",className:"signinform_input"}),l.a.createElement("button",{className:"signinform_button"},"Log In")))}}]),a}(n.Component);K.contextType=V;var G=Object(U.g)(K),z=function(e){return l.a.createElement("div",{className:"signincontainer"},l.a.createElement("div",{className:"signin"},l.a.createElement("div",{className:"signin_left"},l.a.createElement("h1",{className:"signin_left_title"}," InstaGreen"),l.a.createElement("h2",{className:"signin_left_subtitle"},"Your plant care starts here..."),l.a.createElement("section",{className:"homeinfos"},l.a.createElement("article",{className:"homecontainer"},l.a.createElement("h3",null," Share "),l.a.createElement("p",{className:"containertext"},"Add your plants and share them with your friends !")),l.a.createElement("article",{className:"homecontainer"},l.a.createElement("h3",null," Care "),l.a.createElement("p",{className:"containertext"},"Know how to treat your plants and get helped by the community")),l.a.createElement("article",{className:"homecontainer"},l.a.createElement("h3",null," Exchange "),l.a.createElement("p",{className:"containertext"},"Exchange your plants or offer cuttings to anyone !")))),l.a.createElement("div",{className:"signin_right"},l.a.createElement(G,null),l.a.createElement("p",{className:"signin_right_text"}," No account yet ?",l.a.createElement(i.c,{to:"/signup"},"Sign up here !")))))},H=a(10);function X(e,t,a){if(!t||"object"!==typeof t||t instanceof Date||t instanceof File){var n=null==t?"":t;e.append(a,n)}else Object.keys(t).forEach((function(n){X(e,t[n],a?"".concat(a,"[").concat(n,"]"):n)}))}var Y=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).state={email:"",image:null,password:"",firstName:"",lastName:""},e.handleChange=function(t){var a="file"===t.target.type?t.target.files[0]:t.target.value,n=t.target.name;e.setState(Object(W.a)({},n,a))},e.handleSubmit=function(t){t.preventDefault();var a=new FormData,n=e.state;n.httpResponse;X(a,Object(H.a)(n,["httpResponse"])),g(a).then((function(t){e.context.setUser(t)})).catch((function(e){console.log(e)}))},e}return Object(o.a)(a,[{key:"render",value:function(){return this.context.user?l.a.createElement(U.a,{to:"/"}):l.a.createElement("div",{class:"formcontainersignup"},l.a.createElement("form",{onSubmit:this.handleSubmit,className:"signupform"},l.a.createElement("label",{htmlFor:"firstName"},"First Name"),l.a.createElement("input",{className:"signupinput",onChange:this.handleChange,value:this.state.firstName,type:"text",id:"firstName",name:"firstName"}),l.a.createElement("label",{htmlFor:"lastName"},"Last Name"),l.a.createElement("input",{className:"signupinput",onChange:this.handleChange,value:this.state.lastName,type:"text",id:"lastName",name:"lastName"}),l.a.createElement("label",{htmlFor:"email"},"Email"),l.a.createElement("input",{className:"signupinput",onChange:this.handleChange,value:this.state.email,type:"email",id:"email",name:"email"}),l.a.createElement("label",{htmlFor:"password"},"Password"),l.a.createElement("input",{className:"signupinput",onChange:this.handleChange,value:this.state.password,type:"password",id:"password",name:"password"}),l.a.createElement("div",null,l.a.createElement("input",{type:"file",name:"profileImg",onChange:this.handleChange,value:this.props.image})),l.a.createElement("button",null," Register ")))}}]),a}(n.Component);Y.contextType=V;var q=Object(U.g)(Y),Z=function(e){return l.a.createElement(q,null)},J=a(24),Q=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).state={name:"",description:"",image:"https://cdn1.iconfinder.com/data/icons/gardening-filled-line/614/1935_-_Growing_Plant-512.png",enlightment:"",watering:"",wateringinterval:"",growingperiod:"",isWatered:!0,waterDate:"",httpResponse:null,error:null,file:null},e.handleChange=function(t){var a=t.target.name,n="file"===t.target.type?t.target.files[0]:t.target.value;e.setState(Object(W.a)({},a,n))},e.handleChangeFile=function(t){t.preventDefault(),e.setState({image:t.target.files[0],file:URL.createObjectURL(t.target.files[0])})},e.handleSubmit=function(t){t.preventDefault();var a=new FormData,n=e.state;n.httpResponse;X(a,Object(H.a)(n,["httpResponse"])),C(a).then((function(t){e.props.addItem(t),e.setState({name:"",description:"",enlightment:"",watering:"",wateringinterval:0,growingperiod:"",image:null,file:null,httpResponse:{status:"success",message:"Item successfully added."}})})).catch((function(t){console.log(t),e.setState({httpResponse:{status:"failure",message:"An error occured, try again later."}})}))},e}return Object(o.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"PlantFormContainer"},l.a.createElement("form",{className:"PlantForm",onSubmit:this.handleSubmit},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"labelplant",htmlFor:"name"},"Name"),l.a.createElement("input",{id:"name",name:"name",className:"inputplant",type:"text",onChange:this.handleChange,value:this.state.name})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"labelplant",htmlFor:"enlightment"},"Enlightment"),l.a.createElement("select",{className:"selectplant",name:"enlightment",onChange:this.handleChange,value:this.state.enlightment},l.a.createElement("option",{value:""},"Choose an option"),l.a.createElement("option",{value:"Direct sun"},"Direct sun"),l.a.createElement("option",{value:"Bright light"},"Bright light"),l.a.createElement("option",{value:"Filtered light"},"Filtered light"),l.a.createElement("option",{value:"Shade"},"Shade"))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"labelplant",htmlFor:"watering"},"Watering level"),l.a.createElement("select",{className:"selectplant",name:"watering",onChange:this.handleChange,value:this.state.watering},l.a.createElement("option",{value:""},"Choose an option"),l.a.createElement("option",{value:"Heavy"},"Heavy"),l.a.createElement("option",{value:"Medium"},"Medium"),l.a.createElement("option",{value:"Low"},"Low"))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"labelplant",htmlFor:"wateringinterval"},"Water interval"),l.a.createElement("input",{className:"inputplant",id:"wateringinterval",name:"wateringinterval",type:"number",onChange:this.handleChange,value:this.state.wateringinterval})),l.a.createElement("div",null,l.a.createElement("input",{id:"file",className:"inputfile",type:"file",name:"image",onChange:this.handleChangeFile,value:this.props.image}),l.a.createElement("label",{htmlFor:"file"},"Choose a file")),l.a.createElement("button",{className:"btn-submit-plant"},"Add Plant")),null!==this.state.file&&l.a.createElement("img",{style:{width:"350px",height:"auto",display:"flex",marginLeft:"60px",marginTop:"20px"},src:this.state.file,alt:"recipeimage"}))}}]),a}(n.Component),$=Object(U.g)(Q),ee=a(45),te=a.n(ee),ae=B(function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).state={plants:[],date:"",showForm:!1},e.showForm=function(){!1===e.state.showForm?e.setState({showForm:!0}):e.setState({showForm:!1})},e.addItem=function(t){e.setState({plants:[].concat(Object(J.a)(e.state.plants),[t])})},e.deleteItem=function(t){S(t).then((function(){e.setState({plants:e.state.plants.filter((function(e){return e._id!==t}))})}))},e.setWaterDate=function(t){var a=te()();j(t,{waterDate:a}).then((function(t){w().then((function(t){e.setState({plants:t})})).catch((function(e){console.log(e)}))}))},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;w().then((function(t){e.setState({plants:t})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state.showForm;return l.a.createElement("div",{className:"myplantspage"}," ",l.a.createElement("h1",{className:"myplantstitle"},"My plants"),l.a.createElement("button",{className:"addplantbtn",onClick:function(){return e.showForm()}},"Add a new plant"),t&&l.a.createElement($,{addItem:this.addItem}),l.a.createElement("div",{className:"plantcards"},this.state.plants.length>0?this.state.plants.map((function(t){var a=new Date("".concat(t.waterDate)),n=new Date;return n.setDate(n.getDate()-"".concat(t.wateringinterval)),a<n?(console.log("La plante a besoin d'eau"),l.a.createElement("div",{className:"plantcard",key:t._id},l.a.createElement("div",{className:"plantcardtop"},l.a.createElement("p",{className:"plantcardname"},t.name),l.a.createElement("div",{className:"plantcardtopbtn"},l.a.createElement(i.b,{to:"/plant/edit/".concat(t._id)},l.a.createElement("i",{className:"fas fa-edit"})),l.a.createElement("i",{onClick:function(){e.deleteItem(t._id)},className:"fas fa-trash"}))),l.a.createElement("img",{className:"plantcardimage",src:t.image,alt:"plant"}),l.a.createElement("div",{className:"plantcardallinfo"},l.a.createElement("p",{className:"plantcardinfo"},l.a.createElement("b",null,"Enlightment"),": ",t.enlightment),l.a.createElement("p",{className:"plantcardinfo"},l.a.createElement("b",null,"Watering: "),t.watering),l.a.createElement("p",{className:"plantcardinfo"},l.a.createElement("b",null," Water interval:")," ",t.wateringinterval," days"),l.a.createElement("br",null),l.a.createElement("p",{className:"plantcardinfo"},l.a.createElement("b",null," Last watering:")," ",t.waterDate.slice(0,10))),l.a.createElement("button",{className:"givemewater",onClick:function(){e.setWaterDate(t._id)}},"Water me ! ",l.a.createElement("i",{className:"fas fa-hand-holding-water"})),l.a.createElement("div",{style:{textAlign:"center",margin:"15px",color:"red"}},l.a.createElement("img",{style:{height:"30px"},src:"https://static.wixstatic.com/media/595488_898025ed38bb4367827dca2895d87d12~mv2.gif/v1/fit/w_445%2Ch_410%2Cal_c%2Cq_80/file.gif"}),l.a.createElement("span",null," I need water !")))):(console.log("La plante n'a pas besion d'eau"),l.a.createElement("div",{className:"plantcard",key:t._id},l.a.createElement("div",{className:"plantcardtop"},l.a.createElement("p",{className:"plantcardname"},t.name),l.a.createElement("div",{className:"plantcardtopbtn"},l.a.createElement(i.b,{to:"/plant/edit/".concat(t._id)},l.a.createElement("i",{className:"fas fa-edit"})),l.a.createElement("i",{onClick:function(){e.deleteItem(t._id)},className:"fas fa-trash"}))),l.a.createElement("img",{className:"plantcardimage",src:t.image,alt:"plant"}),l.a.createElement("div",{className:"plantcardallinfo"},l.a.createElement("p",{className:"plantcardinfo"},l.a.createElement("b",null,"Enlightment"),": ",t.enlightment),l.a.createElement("p",{className:"plantcardinfo"},l.a.createElement("b",null,"Watering: "),t.watering),l.a.createElement("p",{className:"plantcardinfo"},l.a.createElement("b",null," Water interval:")," ",t.wateringinterval," days"),l.a.createElement("br",null),l.a.createElement("p",{className:"plantcardinfo"},l.a.createElement("b",null," Last watering:")," ",t.waterDate.slice(0,10))),l.a.createElement("button",{className:"givemewater",onClick:function(){e.setWaterDate(t._id)}},"Water me ! ",l.a.createElement("i",{className:"fas fa-hand-holding-water"})),l.a.createElement("div",{style:{textAlign:"center",margin:"15px",color:"green"}},l.a.createElement("i",{className:"fas fa-check-circle"}),"No water needed")))})):l.a.createElement("p",{className:"noplants"},"No plants added for now...")))}}]),a}(n.Component)),ne=B((function(e){var t=e.component,a=e.context,n=Object(H.a)(e,["component","context"]);return a.isLoading?null:a.isLoggedIn?l.a.createElement(U.b,Object.assign({},n,{render:function(e){return l.a.createElement(t,e)}})):l.a.createElement(U.a,{to:"/signin"})})),le=a(23),se=a.n(le),re=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).state={title:"",author:"",subtitle:"",comments:"",image:"https://cdn1.iconfinder.com/data/icons/gardening-filled-line/614/1935_-_Growing_Plant-512.png",httpResponse:null,error:null,loading:!1,file:null},e.handleChangeFile=function(t){t.preventDefault(),e.setState({image:t.target.files[0],file:URL.createObjectURL(t.target.files[0])})},e.handleChange=function(t){var a=t.target.name,n="file"===t.target.type?t.target.files[0]:t.target.value;console.log(a,n),e.setState(Object(W.a)({},a,n))},e.handleSubmit=function(t){t.preventDefault();var a=new FormData,n=e.state;n.httpResponse;X(a,Object(H.a)(n,["httpResponse"])),x(a).then((function(t){setTimeout((function(){e.props.addPost(t),e.setState({title:"",subtitle:"",image:"",comments:"",file:null,loading:!1,httpResponse:{status:"success",message:"Item successfully added."}})}),1500),e.setState({loading:!0}),e.timeoutId=setTimeout((function(){e.setState({httpResponse:null})}),1e3)})).catch((function(t){console.log(t),e.setState({httpResponse:{status:"failure",message:"An error occured, try again later."}}),e.timeoutId=setTimeout((function(){e.setState({httpResponse:null})}),1e3)}))},e}return Object(o.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"wallForm"},l.a.createElement("form",{className:"form",onSubmit:this.handleSubmit},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"labelwall",htmlFor:"title"},"Title"),l.a.createElement("input",{id:"title",name:"title",className:"inputwall",type:"text",onChange:this.handleChange,value:this.state.title})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"labelwall",htmlFor:"description"},"Subtitle"),l.a.createElement("input",{id:"subtitle",name:"subtitle",className:"inputwall",placeholder:"Tell us something about this plant",onChange:this.handleChange,value:this.state.subtitle})),l.a.createElement("div",null,l.a.createElement("input",{id:"file",className:"inputfile",type:"file",name:"image",onChange:this.handleChangeFile}),l.a.createElement("label",{htmlFor:"file"},"Choose a file")),null!==this.state.file&&l.a.createElement("img",{style:{width:"350px",height:"auto",display:"flex",marginLeft:"60px",marginTop:"20px"},src:this.state.file,alt:"recipeimage"}),this.state.loading?l.a.createElement("button",{className:"btn-submit-plant"},l.a.createElement("img",{style:{height:"35px"},src:se.a,alt:"loading"})):l.a.createElement("button",{className:"btn-submit-plant"},"Post on the wall")))}}]),a}(n.Component),ie=Object(U.g)(re),ce=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).state={text:"",id_wall:e.props.postId},e.handleChange=function(t){var a=t.target.value;e.setState({text:a})},e.handleSubmit=function(t){t.preventDefault();var a=e.state;F(e.props.postId,a).then((function(t){console.log(t),e.setState({text:""}),e.props.seeNewComment()}))},e}return Object(o.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"commentForm"},l.a.createElement("div",{className:"ppusercontainercomment "},l.a.createElement("img",{src:this.props.userpic,className:"ppwall ",alt:"userpic"})),l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("label",{htmlFor:"comment"}),l.a.createElement("input",{onChange:this.handleChange,type:"text",placeholder:"Comment this",id:"comment",name:"text",value:this.state.text}),l.a.createElement("button",{className:"commentsubbtn"},l.a.createElement("i",{className:"fas fa-location-arrow"}))))}}]),a}(n.Component),oe=Object(U.g)(ce);var me=function(e){return l.a.createElement("div",{className:"commentpart"},l.a.createElement("div",{className:"usercommenting"},l.a.createElement("div",{className:"ppusercontainercomment"},l.a.createElement("img",{className:"ppwall",src:e.userImg,alt:"userpic"}))),l.a.createElement("div",{className:"commentinside"},l.a.createElement("div",{className:"commetuser"},l.a.createElement("p",{className:"commentuserinfo"},l.a.createElement("b",null,e.userFirst," ",e.userLast)," "),l.a.createElement("p",{className:"commenttext"},e.text),l.a.createElement("pre",null,e.date.slice(0,10)," ",e.date.slice(11,16))),l.a.createElement("div",{className:"commentbtndelete"},e.userEmail===e.userLogged?l.a.createElement("div",{className:"posttopbtns"},l.a.createElement("i",{className:"fa fa-trash",onClick:function(){return e.deleteComment(e.id)}})):null)))};var ue=B((function(e){return l.a.createElement("div",{className:"wallbody"},l.a.createElement("div",{className:"wallpostcontainer"},l.a.createElement("div",{className:"posttop"},l.a.createElement("div",{className:"posttopuser"},l.a.createElement("div",{className:"wallpostuser"},l.a.createElement("div",{className:"ppusercontainer"},l.a.createElement("img",{className:"ppwall",src:e.userPic,alt:"userpic"})),l.a.createElement("div",{className:"posttopuserinfo"},l.a.createElement("p",{style:{fontSize:"0.9em"}},l.a.createElement(i.b,{to:"/users/".concat(e.userId)},l.a.createElement("b",null,e.userFirst," ",e.userLast))),l.a.createElement("pre",{className:"postdate"},e.date.slice(0,10)," ",e.date.slice(11,16))))),e.userLogged===e.userEmail?l.a.createElement("div",{className:"posttopbtns"},l.a.createElement("i",{className:"fa fa-trash",onClick:function(){return e.deletePost(e.id)}}),l.a.createElement(i.b,{to:"/wall/edit/".concat(e.id)},l.a.createElement("i",{className:"fas fa-edit"}))):null),l.a.createElement("hr",null),l.a.createElement("h3",{className:"posttitle"},e.title),l.a.createElement("img",{className:"wallpic",src:e.image,alt:"postimg"}),l.a.createElement("h5",{className:"postsubtitle"},e.subtitle),l.a.createElement("hr",null),l.a.createElement(oe,{userpic:e.context.user.profileImg,postId:e.id,seeNewComment:e.seeNewComment}),e.comments.map((function(t){return l.a.createElement("div",{key:t._id},l.a.createElement(me,{userImg:t.id_user.profileImg,userFirst:t.id_user.firstName,userLast:t.id_user.lastName,text:t.text,date:t.created_at,userEmail:t.id_user.email,userLogged:e.userLogged,id:t._id,deleteComment:e.deleteComment}))}))))})),pe=a(19),he=a.n(pe),de=B(function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).state={wall:[],loading:!0,loadingSubmit:!1},e.addPost=function(t){P().then((function(t){e.sortByKey(t,"created_at"),e.setState({wall:t})})).catch((function(e){console.log(e)}))},e.deletePost=function(t){k(t).then((function(){e.setState({wall:e.state.wall.filter((function(e){return e._id!==t}))})}))},e.seeNewComment=function(){P().then((function(t){e.sortByKey(t,"created_at"),e.setState({wall:t})})).catch((function(e){console.log(e)}))},e.deleteComment=function(t){I(t).then((function(t){P().then((function(t){e.sortByKey(t,"created_at"),e.setState({wall:t})})).catch((function(e){console.log(e)}))}))},e}return Object(o.a)(a,[{key:"sortByKey",value:function(e,t){return e.sort((function(e,a){var n=e[t],l=a[t];return n<l?1:n>l?-1:0}))}},{key:"componentDidMount",value:function(){var e=this;P().then((function(t){e.sortByKey(t,"created_at"),setTimeout((function(){e.setState({wall:t,loading:!1})}),1e3)})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"wallFullPage"},l.a.createElement("div",{className:"wallpage"},l.a.createElement("div",{className:"fullbodywall"},l.a.createElement(ie,{addPost:this.addPost}),l.a.createElement("div",{className:"wallPost"},this.state.loading?l.a.createElement("img",{style:{height:"100px",marginLeft:"70px"},src:he.a,alt:"loading gif"}):this.props.context.isLoggedIn&&this.state.wall.map((function(t){return l.a.createElement("div",{className:"wallbody",key:t._id},l.a.createElement(ue,{userLogged:e.props.context.user.email,id:t._id,title:t.title,image:t.image,subtitle:t.subtitle,userFirst:t.id_user.firstName,userLast:t.id_user.lastName,userPic:t.id_user.profileImg,userId:t.id_user._id,date:t.created_at,userEmail:t.id_user.email,deletePost:e.deletePost,comments:t.id_comments,seeNewComment:e.seeNewComment,deleteComment:e.deleteComment}))}))))))}}]),a}(n.Component)),fe=B(function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).state={plants:[]},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;y().then((function(t){var a=t.filter((function(t){return t.id_user===e.props.context.user._id}));e.setState({plants:a})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return l.a.createElement("div",{className:"fullbodyprofile"},l.a.createElement("h1",{className:"userpagetitle"},"My profile"),l.a.createElement("div",{className:"flexuserpageprofile"},l.a.createElement("div",{className:"userplantspartleft"},l.a.createElement("h1",{className:"userpageplantstitle"},"My plants"),l.a.createElement("div",{className:"usersplants"},this.state.plants.map((function(e){return l.a.createElement("div",{key:e._id,className:"userplantsbody"},l.a.createElement("div",{className:"userplantscontainer",key:e._id},l.a.createElement("p",{className:"userplantname"},e.name),l.a.createElement("img",{className:"userplantimage",src:e.image,alt:"plantimg"})))})))),l.a.createElement("div",{className:"userplantspartright"},l.a.createElement("h1",{className:"userpageplantstitle"}," My Posts"),l.a.createElement(de,null))))}}]),a}(n.Component));a(74).config();var ge=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={httpResponse:null,file:null},e.formRef=l.a.createRef(),e.handleChange=function(t){var a=t.target.name,n="file"===t.target.type?t.target.files[0]:t.target.value;console.log(a,n),e.setState(Object(W.a)({},a,n))},e.handleChangeFile=function(t){t.preventDefault(),e.setState({image:t.target.files[0],file:URL.createObjectURL(t.target.files[0])})},e.handleSubmit=function(t){t.preventDefault();var a=new FormData,n=e.state;n.httpResponse;X(a,Object(H.a)(n,["httpResponse"])),j(e.state.id,a).then((function(t){e.props.history.push("/myplants")})).catch((function(e){console.log(e)}))},e.handleFileSelect=function(t){t.tmpUrl;var a=t.file;e.setState({image:a})},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;y().then((function(t){var a=t.filter((function(t){return t._id===e.props.match.params.id}));e.setState({name:a[0].name,description:a[0].description,enlightment:a[0].enlightment,watering:a[0].watering,wateringinterval:a[0].wateringinterval,id:a[0]._id,file:a[0].image})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return l.a.createElement("div",{style:{display:"flex"}},l.a.createElement("form",{className:"formEditplant",onSubmit:this.handleSubmit},l.a.createElement("h2",{className:"myplantstitle"},"Edit this Plant"),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"labelplant",htmlFor:"name"},"Name"),l.a.createElement("input",{id:"name",name:"name",className:"inputplant",type:"text",onChange:this.handleChange,defaultValue:this.state.name})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"labelplant",htmlFor:"enlightment"},"Enlightment"),l.a.createElement("select",{className:"selectplant",name:"enlightment",onChange:this.handleChange,value:this.state.enlightment},l.a.createElement("option",{value:""},"Choose an option"),l.a.createElement("option",{value:"Direct sun"},"Direct sun"),l.a.createElement("option",{value:"Bright light"},"Bright light"),l.a.createElement("option",{value:"Filtered light"},"Filtered light"),l.a.createElement("option",{value:"Shade"},"Shade"))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"labelplant",htmlFor:"watering"},"Watering level"),l.a.createElement("select",{className:"selectplant",name:"watering",onChange:this.handleChange,value:this.state.watering},l.a.createElement("option",{value:""},"Choose an option"),l.a.createElement("option",{value:"Heavy"},"Heavy"),l.a.createElement("option",{value:"Medium"},"Medium"),l.a.createElement("option",{value:"Low"},"Low"))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"labelplant",htmlFor:"wateringinterval"},"Water interval"),l.a.createElement("input",{className:"inputplant",id:"wateringinterval",name:"wateringinterval",type:"number",onChange:this.handleChange,defaultValue:this.state.wateringinterval})),l.a.createElement("div",null,l.a.createElement("input",{className:"inputfile",type:"file",name:"image",onChange:this.handleChangeFile,id:"image"}),l.a.createElement("label",{htmlFor:"image"},"Choose a file")),l.a.createElement("button",{className:"btn-submit-plant"},"Save Changes")),null!==this.state.file&&l.a.createElement("img",{style:{width:"350px",height:"auto",display:"flex",marginLeft:"60px",marginTop:"120px"},src:this.state.file,alt:"recipeimage"}))}}]),a}(n.Component),Ee=Object(U.g)(ge),ve=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={title:"",subtitle:"",httpResponse:null,image:"",file:null,loading:!1},e.formRef=l.a.createRef(),e.handleChange=function(t){var a=t.target.name,n=t.target.value;e.setState(Object(W.a)({},a,n))},e.handleChangeFile=function(t){t.preventDefault(),e.setState({image:t.target.files[0],file:URL.createObjectURL(t.target.files[0])})},e.handleSubmit=function(t){t.preventDefault();var a=new FormData,n=e.state;n.httpResponse;X(a,Object(H.a)(n,["httpResponse"])),_(e.state.id,a).then((function(t){e.setState({loading:!0}),setTimeout((function(){e.setState({loading:!1}),e.props.history.push("/wall")}),1e3)})).catch((function(e){console.log(e)}))},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;O().then((function(t){var a=t.filter((function(t){return t._id===e.props.match.params.id}));e.setState({title:a[0].title,subtitle:a[0].subtitle,id:a[0]._id,image:a[0].image,file:a[0].image})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return l.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},l.a.createElement("div",{className:"wallForm2"},l.a.createElement("form",{className:"form",onSubmit:this.handleSubmit},l.a.createElement("h2",{className:"myplantstitle"},"Edit your Post"),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"labelwall",htmlFor:"title"},"Title"),l.a.createElement("input",{id:"title",name:"title",className:"inputwall",placeholder:"Post title",type:"text",onChange:this.handleChange,defaultValue:this.state.title})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"labelwall",htmlFor:"description"},"Subtitle"),l.a.createElement("input",{id:"subtitle",name:"subtitle",type:"text",className:"inputwall",placeholder:"About this picture",onChange:this.handleChange,defaultValue:this.state.subtitle})),l.a.createElement("div",null,l.a.createElement("input",{id:"image",className:"inputfile",type:"file",name:"image",onChange:this.handleChangeFile,defaultValue:this.state.image}),l.a.createElement("label",{htmlFor:"image"},"Choose a file")),null!==this.state.file&&l.a.createElement("img",{style:{width:"350px",height:"auto",display:"flex",marginLeft:"60px",marginTop:"20px"},src:this.state.file,alt:"recipeimage"}),this.state.loading?l.a.createElement("button",{className:"btn-submit-plant"},l.a.createElement("img",{style:{height:"35px"},src:se.a,alt:"loading"})):l.a.createElement("button",{className:"btn-submit-plant"},"Update post"))))}}]),a}(n.Component),be=Object(U.g)(ve),Ne=B(function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).state={wall:[],loading:!0,loadingSubmit:!1},e.deletePost=function(t){k(t).then((function(){e.setState({wall:e.state.wall.filter((function(e){return e._id!==t}))})}))},e.seeNewComment=function(){R(e.props.user).then((function(t){e.sortByKey(t,"created_at"),e.setState({wall:t})})).catch((function(e){console.log(e)}))},e.deleteComment=function(t){I(t).then((function(t){R(e.props.user).then((function(t){e.sortByKey(t,"created_at"),e.setState({wall:t})})).catch((function(e){console.log(e)}))}))},e}return Object(o.a)(a,[{key:"sortByKey",value:function(e,t){return e.sort((function(e,a){var n=e[t],l=a[t];return n<l?1:n>l?-1:0}))}},{key:"componentDidMount",value:function(){var e=this;R(this.props.user).then((function(t){e.sortByKey(t,"created_at"),setTimeout((function(){e.setState({wall:t,loading:!1})}),1e3)})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"wallFullPage"},l.a.createElement("div",{className:"wallpage"},l.a.createElement("div",{className:"fullbodywall"},l.a.createElement("div",{className:"wallPost"},this.state.loading?l.a.createElement("img",{style:{height:"100px",marginLeft:"70px"},src:he.a,alt:"loading gif"}):this.props.context.isLoggedIn&&this.state.wall.map((function(t){return l.a.createElement("div",{className:"wallbody",key:t._id},l.a.createElement(ue,{userLogged:e.props.context.user.email,id:t._id,title:t.title,image:t.image,subtitle:t.subtitle,userFirst:t.id_user.firstName,userLast:t.id_user.lastName,userPic:t.id_user.profileImg,userId:t.id_user._id,date:t.created_at,userEmail:t.id_user.email,deletePost:e.deletePost,comments:t.id_comments,seeNewComment:e.seeNewComment,deleteComment:e.deleteComment}))}))))))}}]),a}(n.Component)),ye=B(function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).state={plant:[],user:""},e}return Object(o.a)(a,[{key:"sortByKey",value:function(e,t){return e.sort((function(e,a){var n=e[t],l=a[t];return n<l?1:n>l?-1:0}))}},{key:"componentDidMount",value:function(){var e=this;L(this.props.match.params.id).then((function(t){console.log(t),e.setState({user:t})})),y().then((function(t){var a=t.filter((function(t){return t.id_user===e.props.match.params.id}));e.setState({plant:a})}))}},{key:"render",value:function(){return l.a.createElement("div",{className:"oneuserbody"},l.a.createElement("div",{className:"usernameppfu"},l.a.createElement("div",{className:"ppusercontainer2"},l.a.createElement("img",{className:"ppwall",src:this.state.user.profileImg,alt:"userpic"})),l.a.createElement("h1",{key:this.state.user._id,className:"userpagetitle"},this.state.user.firstName)),l.a.createElement("div",{className:"flexuserpage"},l.a.createElement("div",{className:"userplantspartleft"},l.a.createElement("h1",{className:"userpageplantstitle"},"User plants"),l.a.createElement("div",{className:"usersplants"},this.state.plant.length>0?this.state.plant.map((function(e){return l.a.createElement("div",{key:e._id,className:"userplantsbody"},l.a.createElement("div",{className:"userplantscontainer",key:e._id},l.a.createElement("p",{className:"userplantname"},e.name),l.a.createElement("img",{className:"userplantimage",src:e.image,alt:"plantimg"})))})):l.a.createElement("p",{className:"noplants"},"User has no plants registered for now..."))),l.a.createElement("div",{className:"userplantspartright"},l.a.createElement("h1",{className:"userpageplantstitle"},"User Posts"),l.a.createElement(Ne,{user:this.props.match.params.id}))))}}]),a}(n.Component)),we=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).state={users:[],plants:[],foundUsers:[],sortValue:"",inputValue:""},e.userFilterOnChange=function(t){e.setState({inputValue:t.target.value})},e.submitSearch=function(t){t.preventDefault(),N().then((function(t){var a=t.filter((function(t){return t.firstName.toLowerCase().includes(e.state.inputValue.toLowerCase())}));e.setState({users:a,inputValue:""})}))},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;N().then((function(t){var a=t.filter((function(t){return t.firstName.toLowerCase().includes(e.state.inputValue.toLowerCase())}));e.setState({users:a})}))}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"fulluserpagebody2"},l.a.createElement("h1",{className:"myplantstitle"},"Users list"),l.a.createElement("form",{className:"searchformuserpage",onSubmit:this.submitSearch},l.a.createElement("label",{className:"labelplant",htmlFor:"search"},"Search by name"),l.a.createElement("input",{className:"inputplant",type:"text",value:this.state.inputValue,onChange:this.userFilterOnChange})),l.a.createElement("div",{className:"userpagebodyuserpage"},l.a.createElement("div",{className:"allusercontainerpage"},this.state.users.map((function(e){return l.a.createElement("div",{key:e._id},l.a.createElement("div",{className:"usercontainerpage",key:e._id},l.a.createElement("div",{className:"ppusercontainer"},l.a.createElement("img",{className:"ppwall",src:e.profileImg,alt:"userpic"})),l.a.createElement("p",null," ",l.a.createElement(i.b,{to:"/users/".concat(e._id)}," ",l.a.createElement("b",null,e.firstName," ",e.lastName," ")))),l.a.createElement("hr",{className:"hruser"}))}))))))}}]),a}(n.Component),Ce=B(function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).state={wall:[],loading:!0,loadingSubmit:!1},e.addPost=function(t){O().then((function(t){e.sortByKey(t,"created_at"),e.setState({wall:t})})).catch((function(e){console.log(e)}))},e.deletePost=function(t){k(t).then((function(){e.setState({wall:e.state.wall.filter((function(e){return e._id!==t}))})}))},e.seeNewComment=function(){O().then((function(t){e.sortByKey(t,"created_at"),e.setState({wall:t})})).catch((function(e){console.log(e)}))},e.deleteComment=function(t){I(t).then((function(t){O().then((function(t){e.sortByKey(t,"created_at"),e.setState({wall:t})})).catch((function(e){console.log(e)}))}))},e}return Object(o.a)(a,[{key:"sortByKey",value:function(e,t){return e.sort((function(e,a){var n=e[t],l=a[t];return n<l?1:n>l?-1:0}))}},{key:"componentDidMount",value:function(){var e=this;O().then((function(t){e.sortByKey(t,"created_at"),setTimeout((function(){e.setState({wall:t,loading:!1})}),1e3)})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"fullbodywall"},l.a.createElement("h1",{className:"walltitle"}," Main Wall"),l.a.createElement(ie,{addPost:this.addPost}),l.a.createElement("div",{className:"wallPost"},this.state.loading?l.a.createElement("img",{style:{height:"100px",marginLeft:"70px"},src:he.a,alt:"loading gif",position:"relative"}):this.props.context.isLoggedIn&&this.state.wall.map((function(t){return l.a.createElement("div",{className:"wallbody",key:t._id},l.a.createElement(ue,{userLogged:e.props.context.user.email,id:t._id,title:t.title,image:t.image,subtitle:t.subtitle,userFirst:t.id_user.firstName,userLast:t.id_user.lastName,userPic:t.id_user.profileImg,userId:t.id_user._id,date:t.created_at,userEmail:t.id_user.email,deletePost:e.deletePost,comments:t.id_comments,seeNewComment:e.seeNewComment,deleteComment:e.deleteComment}))}))))}}]),a}(n.Component)),Se=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).state={users:[],plants:[],foundUsers:[],sortValue:"",inputValue:""},e.userFilterOnChange=function(t){e.setState({inputValue:t.target.value})},e.submitSearch=function(t){t.preventDefault(),N().then((function(t){var a=t.filter((function(t){return t.firstName.toLowerCase().includes(e.state.inputValue.toLowerCase())}));console.log(e.state.inputValue),e.setState({users:a,inputValue:""})}))},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;N().then((function(t){var a=t.filter((function(t){return t.firstName.toLowerCase().includes(e.state.inputValue.toLowerCase())}));console.log(e.state.inputValue),e.setState({users:a})}))}},{key:"render",value:function(){return l.a.createElement("div",{className:"fulluserpagebody"},l.a.createElement("h1",{className:"myplantstitle"},"Users list"),l.a.createElement("form",{className:"searchform",onSubmit:this.submitSearch},l.a.createElement("label",{className:"labelplant",htmlFor:"search"},"Search by name"),l.a.createElement("input",{className:"inputplant",type:"text",value:this.state.inputValue,onChange:this.userFilterOnChange})),l.a.createElement("div",{className:"userpagebody"},l.a.createElement("div",{className:"allusercontainer"},this.state.users.map((function(e){return l.a.createElement("div",{key:e._id},l.a.createElement("div",{className:"usercontainer",key:e._id},l.a.createElement("div",{className:"ppusercontainer"},l.a.createElement("img",{className:"ppwall",src:e.profileImg})),l.a.createElement("p",null," ",l.a.createElement(i.b,{to:"/users/".concat(e._id)}," ",l.a.createElement("b",null,e.firstName," ",e.lastName," ")))),l.a.createElement("hr",{className:"hruser"}))})))))}}]),a}(n.Component),je=a(25),Oe=a(46),xe=a.n(Oe),_e=a(16),ke=(a(43),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={search:"",results:[],isLoading:!1},n.handleSearchChange=n.handleSearchChange.bind(Object(_e.a)(n)),n}return Object(o.a)(a,[{key:"handleSearchChange",value:function(e){var t=this;this.setState({search:e.target.value,isLoading:!0}),clearTimeout(this.timeoutId),this.timeoutId=setTimeout((function(){t.performSearch()}),1e3)}},{key:"performSearch",value:function(){var e=this;""!==this.state.search?h.a.get("https://api.mapbox.com/geocoding/v5/mapbox.places/".concat(this.state.search,".json?access_token=").concat("pk.eyJ1IjoibGVwZmF1IiwiYSI6ImNranNvd2RvbzB6azcyeXFodTY3dTdnOHoifQ.0ZfEPNG6S9_GX-7K5a_VEw")).then((function(t){e.setState({results:t.data.features,isLoading:!1})})):this.setState({results:[],isLoading:!1})}},{key:"handleItemClicked",value:function(e){this.setState({search:e.place_name,results:[]}),this.props.onSelect(e)}},{key:"render",value:function(){var e=this,t=this.state,a=t.results,n=t.isLoading;return l.a.createElement("div",{className:"AutocompletePlace2"},l.a.createElement("input",{className:"input",type:"text",value:this.props.defaultValue||this.state.search,onChange:this.handleSearchChange,placeholder:"Enter your city or address"}),l.a.createElement("ul",{className:"AutocompletePlace2-results"},a.map((function(t){return l.a.createElement("li",{key:t.id,className:"AutocompletePlace2-items",onClick:function(){return e.handleItemClicked(t)}},t.place_name)})),n&&l.a.createElement("li",{className:"AutocompletePlace2-items"},"Loading...")))}}]),a}(n.Component)),Fe=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).state={location:{coordinates:[]}},e.handlePlace=function(t){var a=t.geometry;e.setState({location:a,formattedAddress:t.place_name})},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{style:{display:"flex",position:"fixed",left:"400px",top:"90px",zIndex:"3",width:"400px"}},l.a.createElement(ke,{onSelect:this.handlePlace}),l.a.createElement("button",{style:{height:"30px",width:"45px",background:"#4a7f37",borderRadius:"8px",border:"none",color:"white"},onClick:function(){return e.props.handleSearchChange(e.state.location)}},"Go"))}}]),a}(n.Component),Ie=Object(je.c)({accessToken:"pk.eyJ1IjoibGVwZmF1IiwiYSI6ImNranNvd2RvbzB6azcyeXFodTY3dTdnOHoifQ.0ZfEPNG6S9_GX-7K5a_VEw"}),Le=new Image(40,40);Le.src=xe.a;var Pe=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).state={lng:2.349014,lat:48.864716,zoom:12},e.handleClick=function(t){e.props.handleSelectItem(t)},e.handleSearchChange=function(t){e.setState({lng:t.coordinates[0],lat:t.coordinates[1]})},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;navigator.geolocation?navigator.geolocation.getCurrentPosition((function(t){var a=t.coords.latitude,n=t.coords.longitude;e.setState({lat:a,lng:n})}),(function(){console.log("An error occured geolocating user")})):console.log("Geolocation not supported")}},{key:"render",value:function(){var e=this,t=this.props.items,a=l.a.createElement(je.b,{type:"symbol",id:"plants",images:["plant-icon",Le],layout:{"icon-image":"plant-icon"}},t.map((function(t,a){return l.a.createElement(je.a,{key:a,onClick:function(a){return e.handleClick(t)},coordinates:t.location.coordinates})})));return l.a.createElement("div",null,l.a.createElement(Fe,{handleSearchChange:this.handleSearchChange}),l.a.createElement(Ie,{style:"mapbox://styles/mapbox/light-v10",zoom:[12],containerStyle:{top:150,left:0,bottom:0,right:0,position:"absolute"},center:[this.state.lng,this.state.lat]},a))}}]),a}(l.a.PureComponent),Re=(a(81),function(e){var t=e.item,a=e.handleClose;return l.a.createElement("div",{className:"Item-container"},l.a.createElement("p",{style:{fontSize:"1em"},onClick:a,className:"close-link"},"Close"),l.a.createElement("div",{className:"round-image"},l.a.createElement("img",{className:"user-img",src:t.image,alt:"item"})),l.a.createElement("h2",{className:"title"},t.name),l.a.createElement("div",{className:"info"},l.a.createElement("span",null,"Quantity: ",t.quantity)),l.a.createElement("p",{style:{alignSelf:"center",fontSize:"1em"},className:"location"},t.formattedAddress),l.a.createElement("div",{className:"user-info"},l.a.createElement("div",{className:"round-image-user"},l.a.createElement("img",{src:t.id_user.profileImg,alt:"user"})),l.a.createElement("span",null,"Given away by ",t.id_user.firstName)),l.a.createElement("div",{className:"contact-information"},"Contact: ",t.phone))}),De=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={search:"",results:[],isLoading:!1},n.handleSearchChange=n.handleSearchChange.bind(Object(_e.a)(n)),n}return Object(o.a)(a,[{key:"handleSearchChange",value:function(e){var t=this;this.setState({search:e.target.value,isLoading:!0}),clearTimeout(this.timeoutId),this.timeoutId=setTimeout((function(){t.performSearch()}),1e3)}},{key:"performSearch",value:function(){var e=this;""!==this.state.search?h.a.get("https://api.mapbox.com/geocoding/v5/mapbox.places/".concat(this.state.search,".json?access_token=").concat("pk.eyJ1IjoibGVwZmF1IiwiYSI6ImNranNvd2RvbzB6azcyeXFodTY3dTdnOHoifQ.0ZfEPNG6S9_GX-7K5a_VEw")).then((function(t){e.setState({results:t.data.features,isLoading:!1})})):this.setState({results:[],isLoading:!1})}},{key:"handleItemClicked",value:function(e){this.setState({search:e.place_name,results:[]}),this.props.onSelect(e)}},{key:"render",value:function(){var e=this,t=this.state,a=t.results,n=t.isLoading;return l.a.createElement("div",{className:"AutocompletePlace"},l.a.createElement("input",{className:"input",type:"text",value:this.props.defaultValue||this.state.search,onChange:this.handleSearchChange,placeholder:"Enter your address"}),l.a.createElement("ul",{className:"AutocompletePlace-results"},a.map((function(t){return l.a.createElement("li",{key:t.id,className:"AutocompletePlace-items",onClick:function(){return e.handleItemClicked(t)}},t.place_name)})),n&&l.a.createElement("li",{className:"AutocompletePlace-items"},"Loading...")))}}]),a}(n.Component),Ae=(a(82),l.a.forwardRef((function(e,t){return l.a.createElement(l.a.Fragment,null,l.a.createElement("label",{className:"UploadWidget label",htmlFor:e.name},e.children),l.a.createElement("input",{onChange:function(t){var a=t.target.files[0],n=URL.createObjectURL(a);e.onFileSelect&&e.onFileSelect(n)},ref:t,className:"UploadWidget input",id:e.name,name:e.name,type:"file"}))})),a(83),a(84),function(e){var t=e.status,a=e.message;return l.a.createElement("div",{className:"FeedBack ".concat(t)},l.a.createElement("p",null,a))}),Ve=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={name:"",quantity:"",location:{coordinates:[]},address:"",phone:"",httpResponse:null,error:null},e.formRef=l.a.createRef(),e.handleChange=function(t){var a="file"===t.target.type?t.target.files[0]:t.target.value,n=t.target.name;e.setState(Object(W.a)({},n,a))},e.handleSubmit=function(t){t.preventDefault();var a=new FormData,n=e.state;n.httpResponse;X(a,Object(H.a)(n,["httpResponse"])),A(a).then((function(t){e.props.addItem(t),e.setState({httpResponse:{status:"success",message:"Item successfully added."},name:"",quantity:"",location:{coordinates:[]},address:"",phone:""}),e.timeoutId=setTimeout((function(){e.setState({httpResponse:null})}),1e3)})).catch((function(t){e.setState({httpResponse:{status:"failure",message:"An error occured, try again later."}}),e.timeoutId=setTimeout((function(){e.setState({httpResponse:null})}),1e3)}))},e.handlePlace=function(t){var a=t.geometry;e.setState({location:a,formattedAddress:t.place_name})},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.state,t=e.httpResponse;e.error;return l.a.createElement("div",{className:"ItemForm-container"},l.a.createElement("form",{ref:this.formRef,className:"ItemForm",onSubmit:this.handleSubmit},l.a.createElement("p",{onClick:this.props.handleClose,className:"close-link"},"X"),l.a.createElement("h2",{style:{marginBottom:"20px"}},"Give a plant cut !"),t&&l.a.createElement(Ae,{message:t.message,status:t.status}),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"label",htmlFor:"name"},"Name"),l.a.createElement("input",{className:"input",type:"text",onChange:this.handleChange,value:this.state.name,placeholder:"What are you giving away ?",name:"name"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"label",htmlFor:"name"},"Quantity"),l.a.createElement("input",{value:this.state.quantity,onChange:this.handleChange,className:"input",type:"number",name:"quantity",placeholder:"How much do you have"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"label",htmlFor:"location"},"Address"),l.a.createElement(De,{onSelect:this.handlePlace})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"label",htmlFor:"name"},"Image"),l.a.createElement("input",{className:"input",type:"file",onChange:this.handleChange,placeholder:"Choose file",name:"image"})),l.a.createElement("h4",null,"Contact information"),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"label",htmlFor:"name"},"Phone number"),l.a.createElement("input",{className:"input",type:"text",onChange:this.handleChange,value:this.state.phone,placeholder:"Enter your phone number",name:"phone"})),l.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},l.a.createElement("button",{style:{marginLeft:"0px"},className:"addplantbtn"},"Add Item"))))}}]),a}(n.Component);Ve.contextType=V;var Te=Ve,Ue=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).state={formView:!1,selectedItem:null,items:[]},e.addItem=function(t){e.setState({items:[].concat(Object(J.a)(e.state.items),[t])})},e.onSelectItem=function(t){e.setState({selectedItem:t})},e.handleClose=function(){e.setState({selectedItem:null})},e.displayForm=function(){console.log("click"),e.setState({formView:!e.state.formView})},e.closeForm=function(){e.setState({formView:!1})},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;D().then((function(t){e.setState({items:t})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this.context.user;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",null,e&&this.state.formView&&l.a.createElement(Te,{handleClose:this.closeForm,addItem:this.addItem}),null!==this.state.selectedItem&&l.a.createElement(Re,{item:this.state.selectedItem,handleClose:this.handleClose}),l.a.createElement(Pe,{items:this.state.items,handleSelectItem:this.onSelectItem})),l.a.createElement("div",null,l.a.createElement("button",{className:"addplantbtn",onClick:this.displayForm,style:{position:"fixed",top:"60px"}},"Give a plant cut !")))}}]),a}(l.a.Component);Ue.contextType=V;var Be=Ue;var Me=function(){return l.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"flex-start",flexWrap:"wrap"}},l.a.createElement(Se,null),l.a.createElement("div",{style:{marginTop:"90px"}},l.a.createElement(Ce,null)))};var We=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(M,null),l.a.createElement(U.d,null,l.a.createElement(U.b,{exact:!0,path:"/",component:z}),l.a.createElement(U.b,{exact:!0,path:"/signin",component:z}),l.a.createElement(U.b,{exact:!0,path:"/signup",component:Z}),l.a.createElement(ne,{exact:!0,path:"/wall",component:Me}),l.a.createElement(ne,{exact:!0,path:"/myplants",component:ae}),l.a.createElement(ne,{exact:!0,path:"/profile",component:fe}),l.a.createElement(ne,{exact:!0,path:"/plant/edit/:id",component:Ee}),l.a.createElement(ne,{exact:!0,path:"/wall/edit/:id",component:be}),l.a.createElement(ne,{exact:!0,path:"/users",component:we}),l.a.createElement(ne,{exact:!0,path:"/users/:id",component:ye}),l.a.createElement(ne,{exact:!0,path:"/map",component:Be})))};a(85),a(86),a(87),a(88),a(89),a(90),a(91);r.a.render(l.a.createElement(i.a,null,l.a.createElement(T,null,l.a.createElement(We,null))),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.30e7cb93.chunk.js.map